(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[41],{"/mTh":function(e,r,t){"use strict";var n,o,a;t.d(r,"a",(function(){return n})),t.d(r,"b",(function(){return o})),function(e){e.ComingSoon="coming_soon",e.ForSale="for_sale",e.EndOfSale="end_of_sale",e.OutOfStock="out_of_stock",e.Disable="disable"}(n||(n={})),function(e){e.STORE_PICKUP_FAMILY="STORE_PICKUP_FAMILY",e.STORE_PICKUP_711="STORE_PICKUP_711",e.HOME_DELIVERY="HOME_DELIVERY"}(o||(o={})),function(e){e.B2C="B2C",e.C2C="C2C"}(a||(a={}))},"64ms":function(e,r,t){var n=t("XCwa"),o=t("zWgn");e.exports=function(e){return e&&e.length?n(e,o):0}},"8hrp":function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t("ERkP");function o(e,r){const t=Object(n.useRef)(),o=(r||(()=>!0))(e,t.current);return Object(n.useEffect)(()=>{o&&(t.current=e)},[e,o]),t.current}},B9v6:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var n=t("uDfI");function o(){return Object(n.d)()}},Dhk8:function(e,r){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},VSBF:function(e,r,t){"use strict";var n=t("Czhu"),o=t("fGyu"),a=t("2h71"),c=t("DRLc"),i=t("JuBR"),u=t("njY1"),d=t("mrqE");function s(e){Object(d.a)(1,arguments);var r=Object(i.a)(e);return r.setHours(0,0,0,0),r}function f(e,r){Object(d.a)(2,arguments);var t=s(e),n=s(r),o=t.getTime()-Object(u.a)(t),a=n.getTime()-Object(u.a)(n);return Math.round((o-a)/864e5)}function l(e,r){var t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function p(e,r){Object(d.a)(2,arguments);var t=Object(i.a)(e),n=Object(i.a)(r),o=l(t,n),a=Math.abs(f(t,n));t.setDate(t.getDate()-o*a);var c=l(t,n)===-o,u=o*(a-c);return 0===u?0:u}var m=t("CzDk"),b=t("it/K"),h=t("BK6N");function g(e,r){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var t=Object(i.a)(e);if(!Object(b.a)(t))throw new RangeError("Invalid time value");var n=r||{},o=null==n.format?"extended":String(n.format),a=null==n.representation?"complete":String(n.representation);if("extended"!==o&&"basic"!==o)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==a&&"time"!==a&&"complete"!==a)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",u="",d="extended"===o?"-":"",s="extended"===o?":":"";if("time"!==a){var f=Object(h.a)(t.getDate(),2),l=Object(h.a)(t.getMonth()+1,2),p=Object(h.a)(t.getFullYear(),4);c="".concat(p).concat(d).concat(l).concat(d).concat(f)}if("date"!==a){var m=t.getTimezoneOffset();if(0!==m){var g=Math.abs(m),O=Object(h.a)(Math.floor(g/60),2),v=Object(h.a)(g%60,2),j=m<0?"+":"-";u="".concat(j).concat(O,":").concat(v)}else u="Z";var C=Object(h.a)(t.getHours(),2),I=Object(h.a)(t.getMinutes(),2),w=Object(h.a)(t.getSeconds(),2),y=""===c?"":"T",S=[C,I,w].join(s);c="".concat(c).concat(y).concat(S).concat(u)}return c}var O=t("N1LS");function v(e,r){Object(d.a)(2,arguments);var t=Object(i.a)(e),n=Object(O.a)(r);return isNaN(n)?new Date(NaN):n?(t.setDate(t.getDate()+n),t):t}var j=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};function C(e){var r,t=[],c=Object(a.a)(e);try{var i=function(){var e=r.value;t.push.apply(t,Object(o.a)((e.skus||[]).map((function(r){return Object(n.a)(Object(n.a)({},r),{},{price:e.price,onSaleSkuId:e.onSaleSkuId})}))))};for(c.s();!(r=c.n()).done;)i()}catch(u){c.e(u)}finally{c.f()}return t}var I=Object(c.a)({selectId:function(e){return e.postId},transform:function(e){return Object(n.a)(Object(n.a)({},e),{},{shipFeeList:e.shipFeeList.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{readablePrice:e.maxPrice===e.minPrice?"$".concat(e.minPrice):"$".concat(e.minPrice," - $").concat(e.maxPrice)})})),url:"/goods/".concat(e.postId),duration:p(new Date(e.endAt),new Date)<=14?"".concat(Object(m.a)(new Date(e.endAt),"yyyy/MM/dd")," \u622a\u6b62"):"",readablePriceRange:e.priceInfo.low===e.priceInfo.high?"$".concat(j(e.priceInfo.low)):"$".concat(j(e.priceInfo.low)," - $").concat(j(e.priceInfo.high)),readableDeprecatedPrice:"$".concat(j(e.priceInfo.deprecated)),saleEndAt:g(v(new Date(e.startAt),1)),allSkus:C(e.products)})}});r.a=I},XCwa:function(e,r){e.exports=function(e,r){for(var t,n=-1,o=e.length;++n<o;){var a=r(e[n]);void 0!==a&&(t=void 0===t?a:t+a)}return t}},YKBx:function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var n=t("Czhu"),o=t("kdn0"),a=t("sUHQ"),c=t("CzDk"),i=Object(o.d)({name:"orderForm",initialState:{shipFeeList:[],coupons:[],member:{commonStores:[],commonAddressList:[],invoiceVehicle:null,invoicePhoneId:null,invoiceHumanId:null,companyInfo:null},correctedOrder:{},orderCorrecting:!1,orderCorrectError:!1,orderHasBeenCorrected:!1,getShipFeeLoading:!1,orderValidating:!1,orderValidateError:!1,orderValidateErrorState:{},ecPaymentInfo:{orderItemId:"",showExitConfirmation:!0,checkoutParams:void 0}},reducers:{resetOrderFormData:function(e){e.shipFeeList=[],e.coupons=[],e.member={commonStores:[],commonAddressList:[],invoiceVehicle:null,invoicePhoneId:null,invoiceHumanId:null,companyInfo:null},e.correctedOrder={},e.orderCorrecting=!1,e.orderCorrectError=!1,e.orderHasBeenCorrected=!1,e.getShipFeeLoading=!1,e.orderValidating=!1,e.orderValidateError=!1,e.orderValidateErrorState={},e.ecPaymentInfo={orderItemId:"",showExitConfirmation:!0,checkoutParams:void 0}},disableExitConfirmation:function(e){e.ecPaymentInfo.showExitConfirmation=!1}},extraReducers:function(e){e.addCase(a.d.pending,(function(e){e.getShipFeeLoading=!0})),e.addCase(a.d.fulfilled,(function(e,r){e.shipFeeList=r.payload,e.getShipFeeLoading=!1})),e.addCase(a.d.rejected,(function(e,r){e.getShipFeeLoading=!1})),e.addCase(a.c.fulfilled,(function(e,r){e.member=r.payload})),e.addCase(a.e.fulfilled,(function(e,r){e.member=r.payload})),e.addCase(a.b.fulfilled,(function(e,r){e.coupons=r.payload.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{coupon:Object(n.a)(Object(n.a)({},e.coupon),{},{readableDueDate:Object(c.a)(new Date(e.coupon.dueDate),"yyyy/MM/dd HH:mm:ss")})})}))})),e.addCase(a.a.pending,(function(e){e.orderCorrecting=!0,e.orderCorrectError=!1,e.orderHasBeenCorrected=!1})),e.addCase(a.a.fulfilled,(function(e,r){e.correctedOrder=r.payload.correctCustomerOrder,r.payload.correctCustomerOrder.corrected&&(e.orderHasBeenCorrected=!0),e.orderCorrecting=!1})),e.addCase(a.a.rejected,(function(e){e.orderCorrecting=!1,e.orderCorrectError=!0})),e.addCase(a.f.pending,(function(e){e.orderValidating=!0,e.orderValidateError=!1,e.orderValidateErrorState={},e.ecPaymentInfo={orderItemId:"",showExitConfirmation:!0,checkoutParams:void 0}})),e.addCase(a.f.fulfilled,(function(e,r){e.orderValidating=!1,e.ecPaymentInfo={orderItemId:r.payload.orderItemId,showExitConfirmation:!0,checkoutParams:{SPToken:r.payload.customerPaymentInfo.paymentToken,MerchantID:r.payload.customerPaymentInfo.merchantId,PaymentType:r.payload.customerPaymentInfo.type}}})),e.addCase(a.f.rejected,(function(e,r){e.orderValidateError=!0,e.orderValidateErrorState=r.error,e.orderValidating=!1,e.ecPaymentInfo={orderItemId:"",showExitConfirmation:!0,checkoutParams:void 0}}))}})},igCU:function(e,r,t){"use strict";t.d(r,"h",(function(){return n})),t.d(r,"g",(function(){return o})),t.d(r,"d",(function(){return a})),t.d(r,"a",(function(){return c})),t.d(r,"c",(function(){return i})),t.d(r,"f",(function(){return u})),t.d(r,"e",(function(){return d})),t.d(r,"b",(function(){return s}));var n=function(e){return e.orderForm.shipFeeList},o=function(e){return e.orderForm.member},a=function(e){return e.orderForm.coupons},c=function(e){return e.orderForm.correctedOrder},i=function(e){return e.orderForm.orderCorrecting||e.orderForm.getShipFeeLoading||e.orderForm.orderValidating},u=function(e){return e.orderForm.orderHasBeenCorrected},d=function(e){var r,t,n;return null!==(r=null===(t=e.orderForm.orderValidateErrorState)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)&&void 0!==r?r:1e3},s=function(e){return e.orderForm.ecPaymentInfo}},sUHQ:function(e,r,t){"use strict";t.d(r,"d",(function(){return s})),t.d(r,"c",(function(){return f})),t.d(r,"e",(function(){return l})),t.d(r,"b",(function(){return p})),t.d(r,"a",(function(){return m})),t.d(r,"f",(function(){return b}));var n=t("Czhu"),o=t("VtSi"),a=t.n(o),c=t("QsI/"),i=t("hcB2"),u=t("Nf2R"),d=t("igCU"),s=Object(i.c)("orderForm/getShipFeeList",function(){var e=Object(c.a)(a.a.mark((function e(r,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.default.post(r,"/haowuWarehouse/v2/haowuService/campaignOrder/shipFeeList",{campaignOrder:t}));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),f=Object(i.c)("orderForm/getOrderMemberInfo",function(){var e=Object(c.a)(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.default.get(r,"/haowuWarehouse/v2/haowuService/members"));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),l=Object(i.c)("orderForm/updateOrderMemberInfo",function(){var e=Object(c.a)(a.a.mark((function e(r,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.default.put(r,"/haowuWarehouse/v2/haowuService/members",t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),p=Object(i.c)("orderForm/getOrderCoupons",function(){var e=Object(c.a)(a.a.mark((function e(r,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.default.post(r,"/api/v2/coupons/preorder/campaign/".concat(t.campaignId),{cart:t.cart}));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),m=Object(i.c)("orderForm/correctOrder",function(){var e=Object(c.a)(a.a.mark((function e(r,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.default.post(r,"/haowuWarehouse/v2/haowuService/orders/correctOrder",t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()),b=Object(i.c)("orderForm/validateAndCreateOrder",function(){var e=Object(c.a)(a.a.mark((function e(r,t){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={customerConfirmedOrder:Object(n.a)(Object(n.a)({},t),{},{correctedOrder:Object(d.a)(r.getState())})},e.abrupt("return",u.default.post(r,"/haowuWarehouse/v2/haowuService/orders/validateAndCreateOrder",o));case 2:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}())}}]);
