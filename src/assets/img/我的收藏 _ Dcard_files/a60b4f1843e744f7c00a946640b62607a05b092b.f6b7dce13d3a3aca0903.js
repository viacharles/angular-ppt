(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"+0BF":function(t,e){var n='<svg viewBox="0 0 24 24"><path d="M18.95 3H5.05A2.04 2.04 0 003 5.04v13.91A2.04 2.04 0 005.05 21h13.9A2.05 2.05 0 0021 18.96V5.03A2.05 2.05 0 0018.95 3zM6.68 17.73a1.64 1.64 0 111.64-1.64 1.64 1.64 0 01-1.64 1.64zm0-4.1A1.64 1.64 0 118.32 12a1.64 1.64 0 01-1.64 1.64zm0-4.08A1.64 1.64 0 118.32 7.9a1.64 1.64 0 01-1.64 1.64zm11.86 6.77a1 1 0 01-1 1h-6.59a1 1 0 01-1-1v-.46a1 1 0 011-1h6.6a1 1 0 011 1zm0-4.1a1 1 0 01-1 1h-6.59a1 1 0 01-1-1v-.45a1 1 0 011-1h6.6a1 1 0 011 1zm0-4.08a1 1 0 01-1 1h-6.59a1 1 0 01-1-1v-.46a1 1 0 011-1h6.6a1 1 0 011 1z" data-name="icon_md_forum"/></svg>';t.exports=n,e.default=n},"+B7/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(t,e){const n=Object(r.useRef)(e);Object(r.useEffect)(()=>{n.current=e},[e]),Object(r.useEffect)(()=>{const e=t.subscribe(t=>n.current(t));return()=>e.unsubscribe()},[t])}},"+WaJ":function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",(function(){return r}))},"+kUK":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="dummy",o=function(t){var e,n,o,i=null!==(e=null===t||void 0===t||null===(n=t.user)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.id)&&void 0!==e?e:r;return t.postDraft.data[i]}},"+nW2":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return s}));var r,o,i,a=n("zjfJ");!function(t){t.Moderator="Moderator",t.Favorite="Favorite",t.Subscribed="Subscribed",t.Popular="Popular",t.Selection="Selection"}(i||(i={}));var u=(r={},Object(a.a)(r,i.Moderator,-1),Object(a.a)(r,i.Favorite,-1),Object(a.a)(r,i.Subscribed,100),Object(a.a)(r,i.Popular,8),Object(a.a)(r,i.Selection,-1),r),c=(o={},Object(a.a)(o,i.Moderator,"\u677f\u4e3b\u76f8\u95dc"),Object(a.a)(o,i.Favorite,"\u6211\u7684\u6700\u611b"),Object(a.a)(o,i.Subscribed,"\u8ffd\u8e64\u7684\u770b\u677f"),Object(a.a)(o,i.Popular,"\u5373\u6642\u71b1\u9580\u770b\u677f"),Object(a.a)(o,i.Selection,"Dcard \u7cbe\u9078\u770b\u677f"),o),s="popularForums"},"/QYh":function(t,e,n){"use strict";var r=n("yiKp"),o=n("VrFO"),i=n("Y9Ll"),a=n("K1iM");e.__esModule=!0,e.default=void 0;var u,c=(u=n("ERkP"))&&u.__esModule?u:{default:u},s=n("D3Vl"),f=n("4smK");var l=[],d=[],p=!1;function b(t){var e=t(),n={loading:!0,loaded:null,error:null};return n.promise=e.then((function(t){return n.loading=!1,n.loaded=t,t})).catch((function(t){throw n.loading=!1,n.error=t,t})),n}function h(t){var e={loading:!1,loaded:{},error:null},n=[];try{Object.keys(t).forEach((function(r){var o=b(t[r]);o.loading?e.loading=!0:(e.loaded[r]=o.loaded,e.error=o.error),n.push(o.promise),o.promise.then((function(t){e.loaded[r]=t})).catch((function(t){e.error=t}))}))}catch(r){e.error=r}return e.promise=Promise.all(n).then((function(t){return e.loading=!1,t})).catch((function(t){throw e.loading=!1,t})),e}function v(t,e){return c.default.createElement(function(t){return t&&t.__esModule?t.default:t}(t),e)}function m(t,e){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:v,webpack:null,modules:null},e),r=null;function o(){if(!r){var e=new y(t,n);r={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return r.promise()}if(!p&&"function"===typeof n.webpack){var i=n.webpack();d.push((function(t){var e,n=a(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(-1!==t.indexOf(r))return o()}}catch(u){n.e(u)}finally{n.f()}}))}var u=function(t,e){o();var i=c.default.useContext(f.LoadableContext),a=(0,s.useSubscription)(r);return c.default.useImperativeHandle(e,(function(){return{retry:r.retry}}),[]),i&&Array.isArray(n.modules)&&n.modules.forEach((function(t){i(t)})),c.default.useMemo((function(){return a.loading||a.error?c.default.createElement(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.render(a.loaded,t):null}),[t,a])};return u.preload=function(){return o()},u.displayName="LoadableComponent",c.default.forwardRef(u)}var y=function(){function t(e,n){o(this,t),this._loadFn=e,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(t,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,n=this._opts;e.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){t._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){t._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){t._update({}),t._clearTimeouts()})).catch((function(e){t._update({}),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=r(r({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks.delete(t)}}}]),t}();function O(t){return m(b,t)}function g(t,e){for(var n=[];t.length;){var r=t.pop();n.push(r(e))}return Promise.all(n).then((function(){if(t.length)return g(t,e)}))}O.Map=function(t){if("function"!==typeof t.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return m(h,t)},O.preloadAll=function(){return new Promise((function(t,e){g(l).then(t,e)}))},O.preloadReady=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(e){var n=function(){return p=!0,e()};g(d,t).then(n,n)}))},window.__NEXT_PRELOADREADY=O.preloadReady;var j=O;e.default=j},"0ZCC":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"0qS3":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"h",(function(){return O})),n.d(e,"f",(function(){return g})),n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return w})),n.d(e,"g",(function(){return _})),n.d(e,"e",(function(){return S})),n.d(e,"j",(function(){return E})),n.d(e,"k",(function(){return x})),n.d(e,"m",(function(){return T})),n.d(e,"l",(function(){return P})),n.d(e,"c",(function(){return F})),n.d(e,"i",(function(){return I}));var r=n("ERkP"),o=n.n(r),i=n("+l7i"),a=n("oTYA"),u=n("MKtF"),c=n("yDbQ"),s=n("+0BF"),f=n.n(s),l=Object(c.a)(f.a),d=n("DJLE"),p=n.n(d),b=Object(c.a)(p.a),h=n("2YqF"),v=n("GRbO"),m=o.a.createElement,y=[{name:"\u6240\u6709\u770b\u677f",url:"/forum/all",icon:m(l,null)},{name:"\u5373\u6642\u71b1\u9580\u770b\u677f",url:"/forum/popular",icon:m(b,null)},{name:"\u597d\u7269\u7814\u7a76\u5ba4",url:"/goods",icon:m(h.a,null)}];function O(t){return{query:t.query,latest:Object(v.a)(t.latest)}}function g(t,e){if(e)return t.forum.data[e]}Object(i.createSelector)((function(t){return t.forum.paginations[u.a]}),(function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.fetched)&&void 0!==e&&e}));var j=Object(u.g)("forum"),w=Object(i.createSelector)((function(t){return t.forum.data}),(function(t){return Object.values(t)})),_=function(t){return t.forum.data},S=function(t,e){return t.forum.paginations[e]},k=Object(i.createSelector)(w,(function(t){return t.filter((function(t){return!t.invisible}))})),E=Object(a.a)(_,S,(function(t,e){var n;return(null!==(n=null===e||void 0===e?void 0:e.index)&&void 0!==n?n:[]).map((function(e){return t[e]})).filter((function(t){return!!t}))}))({keySelector:function(t,e){return e}}),x=Object(i.createSelector)(k,(function(t){var e=[],n=[];return t.forEach((function(t){t.subscribed&&!t.userSchool?n.push(t):t.userSchool&&e.push(t)})),[].concat(e,n)})),T=Object(i.createSelector)(k,(function(t){return t.filter((function(t){return!!t.isSchool}))})),P=Object(i.createSelector)(k,(function(t){return t.filter((function(t){return!t.isSchool}))})),F=function(t,e){return t.forumBulletin.data[e]},I=Object(u.h)("forum")},"1Au3":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ERkP");function o(t,e){return("undefined"!==typeof window?r.useLayoutEffect:r.useEffect)(t,e)}},"2Xvc":function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return b}));var r=n("Czhu"),o=n("hcB2"),i=n("Nf2R"),a=n("uDCT"),u=n("QcEf"),c=n("7tFQ"),s=n("LbVg"),f=n("2zbF"),l=n("k1L/"),d=n("CDTI");var p=Object(o.c)("channel/list",(function(t,e){var n=e.limit,o=e.after,a=e.before;return i.default.get(t,"/api/v2/me/messages",Object(r.a)(Object(r.a)(Object(r.a)({},n&&{limit:n}),o&&{after:o}),a&&{before:a}))}),{modifiers:[Object(a.a)((function(t,e){var n=e.after,r=e.before;if(n||r)return!0;var o=Object(s.b)(t.getState());return!o||!o.loading&&!o.fetched}))]}),b=Object(o.c)("channel/getStatus",(function(t){return i.default.get(t,"/api/v2/me/messages/status")}),{modifiers:[Object(a.a)((function(t){return Object(f.a)(t.getState())})),Object(u.a)(1e4),Object(c.a)(),Object(l.a)(),Object(d.a)({rejected:function(t,e){return t.dispatch(Object(r.a)(Object(r.a)({},e),{},{meta:Object(r.a)(Object(r.a)({},e.meta),{},{skipInsufficientScopeCheck:!0})}))}})]})},"2YqF":function(t,e,n){"use strict";var r=n("yDbQ"),o=n("NDbK"),i=n.n(o);e.a=Object(r.a)(i.a)},"37iR":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"e",(function(){return b}));var r=n("hcB2"),o=n("uDCT"),i=n("QcEf"),a=n("7tFQ"),u=n("Nf2R"),c=n("2zbF"),s=Object(r.c)("notification/status",(function(t){return u.default.get(t,"/api/v2/notifications/status")}),{modifiers:[Object(o.a)((function(t){var e=t.getState();return Object(c.a)(e)&&!e.notification.loading})),Object(i.a)(1e4),Object(a.a)()]}),f=Object(r.c)("notification/list",(function(t,e){return u.default.get(t,"/api/v2/notifications",e)})),l=Object(r.c)("notification/read",(function(t,e){return u.default.post(t,"/api/v2/notifications/".concat(e,"/read"))})),d=Object(r.c)("notification/readAll",(function(t){return u.default.post(t,"/api/v2/notifications/read")})),p=Object(r.c)("notification/seeAll",(function(t){return u.default.post(t,"/api/v2/notifications/see")})),b=Object(r.c)("notification/remove",(function(t,e){return u.default.delete(t,"/api/v2/notifications/".concat(e))}))},"4smK":function(t,e,n){"use strict";var r;e.__esModule=!0,e.LoadableContext=void 0;var o=((r=n("ERkP"))&&r.__esModule?r:{default:r}).default.createContext(null);e.LoadableContext=o},"56lG":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("ERkP"),o=n.n(r),i=n("j/s1"),a=n("jzuX"),u=o.a.createElement,c=i.e.div.withConfig({componentId:"sc-124lre6-0"})(["display:block;border-radius:50%;flex-shrink:0;overflow:hidden;"]),s=i.e.img.withConfig({componentId:"sc-124lre6-1"})(["width:","px;height:","px;display:block;"],(function(t){return t.size}),(function(t){return t.size}));function f(t){var e,n=t.forum,r=t.size,o=null===n||void 0===n||null===(e=n.logo)||void 0===e?void 0:e.url;return u(c,null,o?u(s,{src:o,size:r}):u(a.a,{size:r}))}},"7OxE":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n("Czhu"),o=n("LiEJ");function i(t){return Object(r.a)({size$:new o.a({width:0,height:0}),scroll$:new o.a({top:0,left:0})},t)}function a(t){return Object(r.a)(Object(r.a)({},t),{},{scroll$:t.scroll$.asObservable(),size$:t.size$.asObservable()})}},"8QBz":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("Czhu"),o=n("QcEf"),i=n("uDCT"),a=n("gEh6"),u=n("hcB2"),c=n("Nf2R"),s=Object(u.c)("bookmark/list",(function(t){return c.default.get(t,"/api/v2/bookmark/entries")}),{modifiers:[Object(o.a)(Number.POSITIVE_INFINITY),Object(i.a)((function(t){var e=t.getState().bookmark;return!(e.fetched||e.loading)}))],transform:function(t,e){return e.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{to:"/"+t.link.replace(a.c,"")})}))}})},"8e5w":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("DRLc"),o=Object(r.a)()},AKqy:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return l}));var r=n("ERkP"),o=n("7OxE"),i=n("neW5"),a=n("sKtE"),u=n("+B7/"),c=n("kvvm");function s(t){var e=Object(r.useContext)(a.b).ref,n=Object(r.useRef)(null);Object(u.a)(t.scroll$,(function(t){return n.current=t}));var o=Object(r.useCallback)((function(e){var r,o=e;if(!(o.ctrlKey||o.shiftKey||o.altKey||o.metaKey)){var i=null===(r=n.current)||void 0===r?void 0:r.top;if("undefined"!==typeof i)switch(o.key){case"ArrowUp":i>=0&&t.scrollTo({top:i-40});break;case"ArrowDown":t.scrollTo({top:i+40});break;default:return}}}),[t]);Object(c.a)(e,"keydown",o)}function f(t){var e=Object(r.useMemo)((function(){return Object(o.a)(t)}),[t]);return Object(r.useEffect)((function(){return function(){e.scroll$.complete(),e.size$.complete()}}),[e]),e}function l(){return Object(r.useContext)(i.a)}},AU4o:function(t,e,n){"use strict";var r=n("yiKp");e.__esModule=!0,e.noSSR=a,e.default=function(t,e){var n=o.default,i={loading:function(t){t.error,t.isLoading;return t.pastDelay,null}};t instanceof Promise?i.loader=function(){return t}:"function"===typeof t?i.loader=t:"object"===typeof t&&(i=r(r({},i),t));if(i=r(r({},i),e),"object"===typeof t&&!(t instanceof Promise)&&(t.render&&(i.render=function(e,n){return t.render(n,e)}),t.modules)){n=o.default.Map;var u={},c=t.modules();Object.keys(c).forEach((function(t){var e=c[t];"function"!==typeof e.then?u[t]=e:u[t]=function(){return e.then((function(t){return t.default||t}))}})),i.loader=u}i.loadableGenerated&&delete(i=r(r({},i),i.loadableGenerated)).loadableGenerated;if("boolean"===typeof i.ssr){if(!i.ssr)return delete i.ssr,a(n,i);delete i.ssr}return n(i)};i(n("ERkP"));var o=i(n("/QYh"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return delete e.webpack,delete e.modules,t(e)}},CDTI:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("D57K");function o(t){const e=(()=>{if("function"===typeof t)return{pending:t,fulfilled:t,rejected:t};const e=({dispatch:t},e)=>t(e);return{pending:t.pending||e,fulfilled:t.fulfilled||e,rejected:t.rejected||e}})();return t=>function(n){return(o,i)=>Object(r.a)(this,void 0,void 0,(function*(){return t(n)(n=>{const r={dispatch:o,getState:i};return t.pending.match(n)?e.pending(r,n):t.fulfilled.match(n)?e.fulfilled(r,n):t.rejected.match(n)?e.rejected(r,n):o(n)},i)}))}}},DJLE:function(t,e){var n='<svg viewBox="0 0 24 24"><path d="M19.5 14.5a7.5 7.5 0 01-15 0 12.9 12.9 0 012.21-7.25l.02-.03a.18.18 0 01.04-.05.5.5 0 01.31-.15.51.51 0 01.55.46A3.36 3.36 0 0010.9 10a3.26 3.26 0 003.2-3.5 16.5 16.5 0 00-.32-2.9 1.63 1.63 0 01-.04-.19V3.4a.5.5 0 01.49-.5.51.51 0 01.28.08.45.45 0 01.1.09A15.95 15.95 0 0119.5 14.5zm-3.59-1.55a12.97 12.97 0 00-.22-1.32.5.5 0 00-.83-.27 7.93 7.93 0 01-3.73 1.77 2.94 2.94 0 00-2.63 2.93c0 2.55 3.3 4.32 5.95 1.5a5.75 5.75 0 001.46-4.6z" data-name="ic_hot"/></svg>';t.exports=n,e.default=n},DwTn:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("D57K"),o=n("+WaJ"),i=n("lUPP"),a=n("LR82"),u=n("0ZCC"),c=n("kOVi"),s=n("z6NV"),f=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"===typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new l(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new l(a,n,r,o)}return a}return r.b(e,t),e.prototype[u.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),l=function(t){function e(e,n,r,a){var u,c=t.call(this)||this;c._parentSubscriber=e;var s=c;return Object(o.a)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==i.a&&(s=Object.create(n),Object(o.a)(s.unsubscribe)&&c.add(s.unsubscribe.bind(s)),s.unsubscribe=c.unsubscribe.bind(c))),c._context=s,c._next=u,c._error=r,c._complete=a,c}return r.b(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f)},EMJh:function(t,e,n){"use strict";var r=n("LiEJ"),o=n("d9YI"),i=n("ERkP"),a=n.n(i),u=n("j/s1"),c=n("+B7/");const s=u.e.div.withConfig({displayName:"Main",componentId:"sc-myp7kw"})`
  position: fixed;
  left: 0;
  top: 0;
  right: 100%;
  z-index: 999;
  height: 2px;
  background-color: white;
  box-shadow: 0 1px 8px hsla(0, 0%, 0%, 0.1);
  opacity: 0;
  transition-property: right, opacity;
  transition-duration: 0s;
  pointer-events: none;

  ${t=>t.pending&&u.d`
    right: 5%;
    opacity: 1;
    transition-timing-function: cubic-bezier(0.075, 0.82, 0.165, 1);
    transition-duration: 8s, 0s;
  `}

  ${t=>t.fulfilled&&u.d`
    right: 0;
    transition-duration: ${250}ms;
    transition-delay: 0s, ${250}ms;
  `}
`;var f=class{constructor(){this.currentStatus=this.getInitStatus(),"undefined"!==typeof window&&(this.subject=new r.a(this.getInitStatus())),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.renderPaceComponent=this.renderPaceComponent.bind(this)}getInitStatus(){return{pending:!1,fulfilled:!1}}start(){this.clearTimeout(),this.currentStatus.pending?(this.reset(),setTimeout(()=>this.setPending(),50)):this.setPending()}stop(){this.clearTimeout(),this.setFulfilled(),this.timeoutId=setTimeout(()=>this.reset(),250)}setPending(){this.currentStatus={pending:!0,fulfilled:!1},this.updateSubject()}setFulfilled(){this.currentStatus={pending:!1,fulfilled:!0},this.updateSubject()}reset(){this.currentStatus={pending:!1,fulfilled:!1},this.updateSubject()}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}getObservable(){var t,e;return null!==(e=null===(t=this.subject)||void 0===t?void 0:t.asObservable())&&void 0!==e?e:o.a}updateSubject(){var t;null===(t=this.subject)||void 0===t||t.next(this.currentStatus)}renderPaceComponent({className:t}){return function({pacer$:t,className:e}){const[n,r]=Object(i.useState)();return Object(c.a)(t,r),"undefined"===typeof window?null:a.a.createElement(s,{pending:null===n||void 0===n?void 0:n.pending,fulfilled:null===n||void 0===n?void 0:n.fulfilled,className:e})}({pacer$:this.getObservable(),className:t})}};e.a=new f},F5rf:function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",(function(){return r}))},F92S:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ERkP"),o=n("1Au3"),i=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=o,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};const a={top:0,left:0};function u(t){return{top:t.scrollTop,left:t.scrollLeft}}function c(t,e){const n=Object(r.useRef)(t);Object(r.useEffect)(()=>{n.current=t},[t]);const c=Object(r.useCallback)(()=>{if(e)n.current(e.current?u(e.current):a);else if("fixed"===document.body.style.position){const t=document.body.getBoundingClientRect();n.current({top:-t.top,left:-t.left})}else{const t=u(document.documentElement),e=u(document.body);n.current({top:t.top||e.top,left:t.left||e.left})}},[e]);Object(o.a)(()=>{c()},[c]),function(t,e){const n=Object(r.useRef)(t);function o(t){n.current(t)}Object(r.useEffect)(()=>{n.current=t},[t]),Object(r.useEffect)(()=>{const t=e?e.current:window;if(t){const e=i(o);return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e),e.cancel()}}},[e])}(()=>{c()},e)}},FYO4:function(t,e,n){"use strict";n.d(e,"m",(function(){return T})),n.d(e,"h",(function(){return L})),n.d(e,"i",(function(){return R})),n.d(e,"l",(function(){return z})),n.d(e,"a",(function(){return D})),n.d(e,"c",(function(){return U})),n.d(e,"f",(function(){return B})),n.d(e,"d",(function(){return H})),n.d(e,"g",(function(){return G})),n.d(e,"b",(function(){return V})),n.d(e,"e",(function(){return K})),n.d(e,"k",(function(){return Q})),n.d(e,"j",(function(){return q})),n.d(e,"n",(function(){return W}));var r=n("zjfJ"),o=n("VtSi"),i=n.n(o),a=n("Czhu"),u=n("QsI/"),c=n("//nZ"),s=n.n(c),f=n("2srY"),l=n.n(f),d=n("7xIC"),p=n.n(d),b=n("pu3o"),h=n("U7b8"),v=n("hcB2"),m=n("2zbF"),y=n("Nf2R"),O=n("EMJh"),g=n("Stf6"),j=n("QWSN"),w=n("Ytc4"),_=n("1PvQ"),S=n("kWB/"),k=n("/Ot9"),E=n("pQ7i"),x=n("HAg6"),T={deleted:"\u6b64\u5e33\u865f\u5df2\u88ab\u522a\u9664",has_logged_in:"\u4f60\u5df2\u7d93\u767b\u5165",password:"\u4fe1\u7bb1\u6216\u5bc6\u78bc\u8f38\u5165\u932f\u8aa4",recaptcha_invalid:"reCAPTCHA \u9a57\u8b49\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u6574\u7406\u518d\u8a66",unsafe:"\u5e33\u865f\u932f\u8aa4\uff0c\u8acb\u4f7f\u7528\u5fd8\u8a18\u5bc6\u78bc\u91cd\u65b0\u8a2d\u5b9a\u5bc6\u78bc",emailInvalid:"\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"},P={toast:{failure:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=T[n.reason],o="\u767b\u5165\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\n".concat(null!==(t=null!==(e=n.error_description)&&void 0!==e?e:n.error)&&void 0!==t?t:"");return{element:null!==r&&void 0!==r?r:o,intent:S.a.danger}}}},F=function(t,e,n,r){"click"!==n?r&&E.b.bilanx.enqueue({event:"signup"===e?"signUpSucceeded":"signInSucceeded",payload:{method:t}}):E.b.bilanx.enqueue({event:"loginFormSubmitted",payload:{method:t,form:"login"}})},I=function(t,e,n){return function(r){var o,i,a;(F(e,n,"response",!1),"suspended"===(null===r||void 0===r||null===(o=r.data)||void 0===o?void 0:o.reason))&&t.dispatch(x.b.actions.push({type:x.a.Suspension,payload:{description:null===r||void 0===r||null===(i=r.data)||void 0===i||null===(a=i.payload)||void 0===a?void 0:a.description}}));throw r}},A=function(t,e){return function(t){var e=t.site,n=t.redirect,r=void 0===n?"":n;if("ads-console"===e&&["https://ads.dcard.tw","https://ads-iap.dcard.io","http://localhost:5566"].includes(r))return r}(e)||t.getState().app.data.loginRedirectPath||"/f"},C=function(t,e){O.a.start();var n=A(t,e);location.href=n},M=function(t){return Object(m.b)(t.getState())?"mobile":"desktop"},N=function(t,e,n){O.a.start(),location.href="/service/oauth/authorize?".concat(Object(b.stringify)({from:A(t,n),oauthType:e,platform:M(t)}))},L=Object(v.b)(_.a.EMAIL_SIGN,function(){var t=Object(u.a)(i.a.mark((function t(e,n){var r,o,u,c,f,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=M(e),o=function(t){return F("email","login","response",!0),C(e,n),t},u=function(){return y.default.post(e,"/sessions",s()(n,["email","password","recaptcha"]))},c=function(){return y.default.post(e,"/api/v2/members",s()(n,["email","password"]),{query:Object(a.a)({platform:r},n.site&&{site:n.site})})},!n.recaptcha){t.next=6;break}return t.abrupt("return",u().then(o,I(e,"email",n.type)));case 6:return t.prev=6,F("email",n.type,"click"),t.next=10,c();case 10:return F("email","signup","response",!0),t.next=13,u();case 13:return f=t.sent,F("email","login","response",!0),p.a.push("/signup/emailConfirm?".concat(Object(b.stringify)({email:n.email||"",password:n.password,stage:"first"})),"/signup/email/confirm/".concat(n.email,"?stage=first")),t.abrupt("return",f);case 19:if(t.prev=19,t.t0=t.catch(6),(d=null===t.t0||void 0===t.t0||null===(l=t.t0.data)||void 0===l?void 0:l.error)!==h.b.emailUsed){t.next=24;break}return t.abrupt("return",u().then(o,I(e,"email",n.type)));case 24:throw d!==h.b.email&&d!==h.b.emailInvalid||(t.t0.data.reason="emailInvalid"),F("email","signup","response",!1),t.t0;case 27:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,n){return t.apply(this,arguments)}}(),P),R=Object(v.b)(_.a.FACEBOOK_SIGN,function(){var t=Object(u.a)(i.a.mark((function t(e,n){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F("facebook",n.type,"click"),!g.a.error){t.next=4;break}return N(e,"facebook",n),t.abrupt("return");case 4:return t.prev=4,t.next=7,g.a.getToken();case 7:return r=t.sent,t.next=10,y.default.post(e,"/oauth/token",{oauthType:"facebook",token:r});case 10:o=t.sent,F("facebook",l()(o,"newMember")?"signup":"login","response",!0),C(e,n),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),I(e,"facebook",n.type)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e,n){return t.apply(this,arguments)}}(),P),z=Object(v.b)(_.a.GOOGLE_SIGN,function(){var t=Object(u.a)(i.a.mark((function t(e,n){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F("google",n.type,"click"),!j.a.error){t.next=4;break}return N(e,"google",n),t.abrupt("return");case 4:return t.prev=4,t.next=7,j.a.getToken();case 7:return r=t.sent,t.next=10,y.default.post(e,"/oauth/token",{oauthType:"google",token:r});case 10:o=t.sent,F("google",l()(o,"newMember")?"signup":"login","response",!0),C(e,n),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),I(e,"google",n.type)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e,n){return t.apply(this,arguments)}}(),P),D=Object(v.b)(_.a.APPLE_SIGN,function(){var t=Object(u.a)(i.a.mark((function t(e,n){var r,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F("apple",n.type,"click"),!w.a.error){t.next=4;break}return N(e,"apple",n),t.abrupt("return");case 4:return r=M(e),t.prev=5,t.next=8,w.a.getTokenAndName();case 8:return o=t.sent,t.next=11,y.default.post(e,"/oauth/token",Object(a.a)(Object(a.a)({oauthType:"apple"},o),{},{platform:r}));case 11:u=t.sent,F("apple",l()(u,"newMember")?"signup":"login","response",!0),C(e,n),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),I(e,"apple",n.type)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e,n){return t.apply(this,arguments)}}(),P),U=Object(v.b)(_.a.CONNECT_FACEBOOK,function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.getToken();case 2:return n=t.sent,t.abrupt("return",y.default.post(e,"/api/v2/facebook",{token:n}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"Facebook \u5e33\u865f\u9023\u7d50\u6210\u529f\uff01",failure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{element:Object(r.a)({},h.b.facebookHasBeenUsed,"\u76ee\u524d\u5df2\u767b\u5165\u7684 Facebook \u5e33\u865f ".concat(l()(t,"payload.facebookName")," \u5df2\u88ab\u5176\u4ed6 Dcard \u5e33\u865f\u9023\u7d50"))[t.error]||"\u7121\u6cd5\u5b8c\u6210\u4f5c\u696d".concat(t.error?" (".concat(t.error,")"):""),intent:S.a.danger}}}}),B=Object(v.b)(_.a.DISCONNECT_FACEBOOK,function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(Object(k.a)({refresh:!0}));case 2:return n=t.sent,t.abrupt("return",y.default.delete(e,"/api/v2/members/".concat(l()(n,"payload.id"),"/facebook")));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"\u53d6\u6d88\u9023\u7d50\u6210\u529f\uff01"}}),H=Object(v.b)(_.a.CONNECT_GOOGLE,function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.getToken();case 2:return n=t.sent,t.abrupt("return",y.default.post(e,"/api/v2/google",{token:n}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"Google \u5e33\u865f\u9023\u7d50\u6210\u529f\uff01",failure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{element:Object(r.a)({},h.b.googleHasBeenUsed,"\u76ee\u524d\u5df2\u767b\u5165\u7684 Google \u5e33\u865f ".concat(l()(t,"payload.googleEmail")," \u5df2\u88ab\u5176\u4ed6 Dcard \u5e33\u865f\u9023\u7d50"))[t.error]||"\u7121\u6cd5\u5b8c\u6210\u4f5c\u696d".concat(t.error?" (".concat(t.error,")"):""),intent:S.a.danger}}}}),G=Object(v.b)(_.a.DISCONNECT_GOOGLE,function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(Object(k.a)({refresh:!0}));case 2:return n=t.sent,t.abrupt("return",y.default.delete(e,"/api/v2/members/".concat(l()(n,"payload.id"),"/google")));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"\u53d6\u6d88\u9023\u7d50\u6210\u529f\uff01"}}),V=Object(v.b)(_.a.CONNECT_APPLE,function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(m.b)(e.getState()),t.next=3,w.a.getTokenAndName();case 3:return r=t.sent,t.abrupt("return",y.default.post(e,"/api/v2/apple",Object(a.a)(Object(a.a)({},r),{},{platform:n?"mobile":"desktop"})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"Apple \u5e33\u865f\u9023\u7d50\u6210\u529f\uff01",failure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{element:Object(r.a)({},h.b.appleHasBeenUsed,"\u76ee\u524d\u5df2\u767b\u5165\u7684 apple \u5e33\u865f ".concat(l()(t,"payload.appleEmail")," \u5df2\u88ab\u5176\u4ed6 Dcard \u5e33\u865f\u9023\u7d50"))[t.error]||"\u7121\u6cd5\u5b8c\u6210\u4f5c\u696d".concat(t.error?" (".concat(t.error,")"):""),intent:S.a.danger}}}}),K=Object(v.b)(_.a.DISCONNECT_APPLE,function(){var t=Object(u.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(Object(k.a)({refresh:!0}));case 2:return n=t.sent,t.abrupt("return",y.default.delete(e,"/api/v2/members/".concat(l()(n,"payload.id"),"/apple")));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{toast:{success:"\u53d6\u6d88\u9023\u7d50\u6210\u529f\uff01"}}),Q=Object(v.b)(_.a.GET_SOCIAL_LOGIN,(function(t){return y.default.get(t,"/api/v2/me/socialLogin")})),q=Object(v.b)(_.a.GET_APPLE_LOGIN,(function(t){return y.default.get(t,"/api/v2/me/apple")})),W=Object(v.b)(_.a.SIGN_OUT,function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.a.start(),t.next=3,y.default.post(e,"service/signout",{},{baseURL:"/"});case 3:return t.abrupt("return",location.reload());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},GGB5:function(t,e){var n='<svg viewBox="0 0 100 100"><path fill="#006AA6" d="M100 50A50 50 0 110 50a50 50 0 01100 0"/><g fill="#FFF"><path d="M61 43.7a4.9 4.9 0 00-5 5c0 2.6 2.3 4.8 5 4.8s4.9-2.2 4.9-4.9-2.2-4.9-5-4.9"/><path d="M69.7 55.8l-.1 1.8a3.9 3.9 0 01-3.2.6c-1.6-.5-3.1-1.4-4.3-2.5l-4.1 4c2.5 2.5 5.7 4.2 9.4 4.7-3 5.3-8.8 9-15.3 9H34.5V49.5a44 44 0 0029.4-17.2c1.5 1 2.8 2.2 3.7 3.5 1.3 2.5 2 5.3 2 8.3v11.6zM52 20.8H28.6v58.4h23.5c13 0 23.4-10.5 23.4-23.4V44.2a23.4 23.4 0 00-23.4-23.4z"/></g><path fill="none" d="M20.8 20.8h58.3v58.3H20.8z"/></svg>';t.exports=n,e.default=n},HnWI:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("DwTn");var o=n("0ZCC"),i=n("lUPP");var a=n("riKq");function u(){}function c(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:u}var s=n("kOVi"),f=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?u.add(a.call(u,this.source)):u.add(this.source||s.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),s.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,o=e.destination,i=e.isStopped;if(n||i)return!1;t=o&&o instanceof r.a?o:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:c(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=s.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},JpGc:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"g",(function(){return k})),n.d(e,"i",(function(){return E})),n.d(e,"d",(function(){return x})),n.d(e,"o",(function(){return T})),n.d(e,"l",(function(){return P})),n.d(e,"m",(function(){return I})),n.d(e,"n",(function(){return A})),n.d(e,"p",(function(){return C})),n.d(e,"h",(function(){return M})),n.d(e,"c",(function(){return L})),n.d(e,"b",(function(){return R})),n.d(e,"k",(function(){return z})),n.d(e,"f",(function(){return B})),n.d(e,"e",(function(){return H})),n.d(e,"j",(function(){return G}));var r,o=n("zjfJ"),i=n("HbGN"),a=n("VtSi"),u=n.n(a),c=n("QsI/"),s=n("hcB2"),f=n("pu3o"),l=n("Nf2R"),d=n("1PvQ"),p=n("Ncxw"),b=n("pFUL"),h=n("0qS3"),v=n("2zbF"),m=n("RpaF"),y=n("U7b8"),O=n("kWB/"),g=n("uv0x"),j=n("pQ7i"),w=n("+nW2"),_=n("MKtF"),S=n("kdn0");!function(t){t.favorite="favorite",t.selection="selection",t.popular="popular",t.recommendedForums="recommendedForums"}(r||(r={}));var k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TW";return t===r.popular?Object(_.b)({listKey:w.c}):"".concat(t,"?").concat(Object(f.stringify)({country:e}))},E=Object(s.b)(d.a.LIST_FORUM,(function(t){if(!(Object(h.b)(t.getState()).length>=50))return Object(c.a)(u.a.mark((function e(){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(v.a)(t.getState())){e.next=9;break}return e.t1=S.g,e.next=5,t.dispatch(Object(p.a)());case 5:e.t2=e.sent,e.t0=(0,e.t1)(e.t2),e.next=10;break;case 9:e.t0={};case 10:return r=e.t0,o=null===(n=r[b.a.NsfwEnable])||void 0===n||n,e.abrupt("return",l.default.get(t,"/api/v2/forums",{nsfw:o}));case 13:case"end":return e.stop()}}),e)})))()})),x=Object(s.b)(d.a.GET_FORUM,(function(t,e){var n=e.alias,r=Object(h.f)(t.getState(),n);return r||l.default.get(t,"/api/v2/forums/".concat(n))})),T=Object(s.b)(d.a.UPDATE_FORUM_INFO,(function(t,e){var n=e.alias,r=Object(i.a)(e,["alias"]);return l.default.put(t,"/api/v2/forums/".concat(n),r)}),(function(){return{toast:{success:{type:"snackbar",element:"\u8a2d\u5b9a\u5df2\u5132\u5b58\uff0c\u8981\u7b49\u4e00\u9663\u5b50\u624d\u6703\u751f\u6548\u5594\uff01"}}}})),P=Object(s.b)(d.a.LIST_RECOMMEND_FORUM,(function(t){return Object(c.a)(u.a.mark((function e(){var n,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(m.p)(t.getState()),!Object(v.a)(t.getState())){e.next=10;break}return e.t1=S.g,e.next=6,t.dispatch(Object(p.a)());case 6:e.t2=e.sent,e.t0=(0,e.t1)(e.t2),e.next=11;break;case 10:e.t0={};case 11:return o=e.t0,i=null===(n=o[b.a.NsfwEnable])||void 0===n||n,e.abrupt("return",l.default.get(t,"/api/v2/recommendedForums",{nsfw:i,country:r}));case 14:case"end":return e.stop()}}),e)})))()}),(function(t,e){return{key:r.recommendedForums}})),F=function(t,e,n,r){var o="unfollow"!==e;j.b.bilanx.enqueue({event:"forumSubscribed",payload:{action:e,position:n,success:r,forumId:t,positive:o}})},I=Object(s.b)(d.a.SUBSCRIBE_FORUM,(function(t,e){var n=e.alias;return l.default.post(t,"/api/v2/forums/".concat(n,"/subscribe"))}),(function(t,e){return{event:{success:function(t,e){var n=t.id,r=t.position,o=e.notificationType;F(n,"follow",r,!0),F(n,g.a[o],r,!0)},failure:function(t){var e=t.id,n=t.position;return F(e,"follow",n,!1)}},toast:{success:function(){return{element:"\u8ffd\u8e64\u770b\u677f\u6210\u529f\uff01"}}}}})),A=Object(s.b)(d.a.UNSUBSCRIBE_FORUM,(function(t,e){var n=e.alias;return l.default.delete(t,"/api/v2/forums/".concat(n,"/subscribe"))}),(function(t,e){return{event:{success:function(t){var e=t.id,n=t.position;return F(e,"unfollow",n,!0)},failure:function(t){var e=t.id,n=t.position;return F(e,"unfollow",n,!1)}},toast:{success:function(){return{element:"\u53d6\u6d88\u8ffd\u8e64\u770b\u677f\u6210\u529f\uff01"}}}}})),C=Object(s.b)(d.a.UPDATE_FORUM_SUBSCRIPTION,(function(t,e){var n=e.alias,r=e.notificationType;return l.default.put(t,"/api/v2/forums/".concat(n,"/subscribe"),{notificationType:r})}),(function(t,e){return{event:{success:function(t){var e=t.id,n=t.notificationType,r=t.position;return F(e,g.a[n],r,!0)},failure:function(t){var e=t.id,n=t.notificationType,r=t.position;return F(e,g.a[n],r,!1)}},toast:{success:function(){return{element:(null===e||void 0===e?void 0:e.toastMessage)?e.toastMessage:"all"===(null===e||void 0===e?void 0:e.notificationType)?"\u958b\u555f\u65b0\u6587\u7ae0\u901a\u77e5\u6210\u529f\uff01":"trending"===(null===e||void 0===e?void 0:e.notificationType)?"\u958b\u555f\u500b\u4eba\u5316\u6587\u7ae0\u901a\u77e5\u6210\u529f\uff01":"\u95dc\u9589\u5168\u90e8\u6587\u7ae0\u901a\u77e5\u6210\u529f\uff01",type:"snackbar"}}}}})),M=Object(s.b)(d.a.LIST_FAVORITE_FORUM,(function(t){var e,n,o,i;if(Object(v.a)(t.getState())){var a=null===(e=t.getState())||void 0===e||null===(n=e.forum)||void 0===n||null===(o=n.paginations)||void 0===o||null===(i=o[r.favorite])||void 0===i?void 0:i.index;if(!(a&&a.length>0))return l.default.get(t,"/api/v2/me/favorites/forums",{limit:100})}}),{key:r.favorite,requestOnIdle:!0}),N=function(t,e,n){j.b.bilanx.enqueue({event:"favorited",payload:{position:e,type:"forum",listId:t,positive:n}})},L=Object(s.b)(d.a.FAVOR_FORUM,(function(t,e){var n=e.id;return l.default.post(t,"/api/v2/favorites/forums",{forumIds:[n]})}),(function(t,e){return{toast:{success:"".concat(e&&e.name,"\u677f\u5df2\u52a0\u5165\u6211\u7684\u6700\u611b"),failure:function(t){return{element:Object(o.a)({},y.b.numberOfFavoriteForumReachLimitation,"\u6211\u7684\u6700\u611b\u5df2\u9054\u4e0a\u9650\uff0c\u8acb\u79fb\u9664\u4e00\u4e9b\u9805\u76ee\u5f8c\u518d\u65b0\u589e\u3002")[t.error]||"".concat(e&&e.name,"\u677f\u52a0\u5165\u6211\u7684\u6700\u611b\u5931\u6557"),intent:O.a.danger}}},event:{success:function(t){var e=t.id,n=t.position;return N(e,n,!0)}}}})),R=Object(s.b)(d.a.DISFAVOR_FORUM,(function(t,e){var n=e.id;return l.default.delete(t,"/api/v2/favorites/forums/".concat(n))}),(function(t,e){return{toast:{success:"".concat(e&&e.name,"\u677f\u5df2\u5f9e\u6211\u7684\u6700\u611b\u79fb\u9664")},event:{success:function(t){var e=t.id,n=t.position;return N(e,n,!1)}}}})),z=Object(s.b)(d.a.LIST_FORUM_SELECTION,(function(t,e){var n,o,i,a=e.country,s=void 0===a?"TW":a,f=t.getState(),d=null===f||void 0===f||null===(n=f.forum)||void 0===n||null===(o=n.paginations)||void 0===o||null===(i=o[k(r.selection,s)])||void 0===i?void 0:i.index;if(!(d&&d.length>0))return Object(c.a)(u.a.mark((function e(){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(v.a)(t.getState())){e.next=9;break}return e.t1=S.g,e.next=5,t.dispatch(Object(p.a)());case 5:e.t2=e.sent,e.t0=(0,e.t1)(e.t2),e.next=10;break;case 9:e.t0={};case 10:return r=e.t0,o=null===(n=r[b.a.NsfwEnable])||void 0===n||n,e.abrupt("return",l.default.get(t,"/api/v2/selections/forums/".concat(s),{sensitiveSelection:o},{throughCF:!0}));case 13:case"end":return e.stop()}}),e)})))()}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{key:k(r.selection,e.country),alertOnServerDown:!1,requestOnIdle:!0}})),D=Object(s.b)(d.a.GET_FORUM_PAGING_HEAD,(function(t,e){var n=e.listKey,r=t.getState().forum.paging.head[n];return r||l.default.get(t,"/api/v2/popularForums/GetHead",{listKey:n})}),{alertOnServerDown:!1,requestOnIdle:!0}),U=Object(s.b)(d.a.GET_FORUM_PAGING_PAGE,(function(t,e){var n=e.pageKey;if(!t.getState().forum.paging.pageKey[n])return l.default.get(t,"/api/v2/popularForums/GetPage",{pageKey:n},{throughCF:!0})}),{alertOnServerDown:!1,requestOnIdle:!0});function B(){return function(t,e){var n=w.c,r=Object(_.b)({listKey:n}),o=Object(h.e)(e(),r);if(!o||!o.loading){var i=e().forum.paging.nextKey[n];return i?t(U({listKey:n,pageKey:i})):{ok:!0}}}}function H(){return function(){var t=Object(c.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(D({listKey:w.c}));case 2:if(!(n=t.sent)||n.payload){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,e(B());case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var G=Object(s.b)(d.a.LIST_FORUM_BULLETIN,function(){var t=Object(c.a)(u.a.mark((function t(e,n){var r,o,i,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.alias,i=e.getState(),!Object(h.c)(i,o)){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:if(a=null===(r=Object(h.f)(i,o))||void 0===r?void 0:r.id){t.next=8;break}return t.abrupt("return");case 8:return t.abrupt("return",l.default.get(e,"/moderator/api/forum/".concat(a,"/bulletin")));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),{requestOnIdle:!0})},LR82:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("snle"),o=n("F5rf"),i=n("+WaJ"),a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,u=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f){n[f].remove(this)}if(Object(i.a)(u))try{u.call(this)}catch(p){e=p instanceof a?c(p.errors):[p]}if(Object(r.a)(s)){f=-1;for(var l=s.length;++f<l;){var d=s[f];if(Object(o.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof a?e=e.concat(c(p.errors)):e.push(p)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},LbVg:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return h}));var r=n("o2U9"),o=n("MKtF"),i=n("+l7i");function a(){return o.a}var u=r.a.getSelectors((function(t){return t.channel})),c=u.selectById,s=u.selectPagination,f=u.selectByPagination,l=c;function d(t){return s(t,a())}function p(t){return f(t,a())}var b=Object(i.createSelector)(p,(function(t){return t.filter((function(t){return!t.currentMember}))})),h=Object(i.createSelector)(p,(function(t){return t[0]||void 0}))},LiEJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("D57K"),o=n("HnWI"),i=n("DwTn"),a=n("LR82"),u=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),c=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.b(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),s=n("0ZCC"),f=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.b(e,t),e}(i.a),l=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.b(e,t),e.prototype[s.a]=function(){return new f(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new u;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new c(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(o.a),d=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.b(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(l),p=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.b(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(l)},N9RS:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s}));var r=n("JpGc"),o=n("fAjh"),i=n("+nW2"),a=function(t){var e,n,r=null!==(e=null===t||void 0===t||null===(n=t.postCount)||void 0===n?void 0:n.last30Days)&&void 0!==e?e:0,o=r/4;return o>=35?"\u6bcf\u5929\u6709 ".concat(Math.ceil(o/7)," \u5247\u8cbc\u6587"):o>=5?"\u6bcf\u9031\u6709 ".concat(Math.ceil(o)," \u5247\u8cbc\u6587"):o>0?"\u6bcf\u6708\u6709 ".concat(r," \u5247\u8cbc\u6587"):"\u9019\u88e1\u662f\u5c08\u5c6c\u65bc".concat(t.name,"\u7684\u7248\u9762")},u=function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.description)&&void 0!==e?e:"\u6b61\u8fce\u4f86\u5230".concat(null===t||void 0===t?void 0:t.name,"\u677f")},c=function(t){switch(t){case i.a.Moderator:return o.a.moderatorForumList;case i.a.Favorite:return o.a.favoriteList;case i.a.Popular:return o.a.realtimeHotForumList;case i.a.Selection:return o.a.selectedForumList;case i.a.Subscribed:return o.a.subscribedForumList}},s={display:function(t){return"".concat(t.name,"\u677f")},notify:function(t,e,n,o){return Object(r.p)({alias:t.alias,id:t.id,notificationType:e,position:n,toastMessage:o})},subscribe:function(t,e,n){return(e?r.m:r.n)({alias:t.alias,id:t.id,position:n})},typeName:"\u770b\u677f"}},NDbK:function(t,e){var n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.962 9l-.994-5a2.156 2.156 0 00-1.987-2H6.019a2.156 2.156 0 00-1.987 2l-.994 5A2.34 2.34 0 004 11.269V20a2 2 0 002 2h12a2 2 0 002-2v-8.731A2.34 2.34 0 0020.962 9zM6.019 10a1 1 0 01-.993-1l.993-5H7v5.042a.993.993 0 01-.981.958zM9 9V4h2v5a1 1 0 01-2 0zm5.5 11h-5v-5.143a.937.937 0 011-.857h3a.937.937 0 011 .857zM15 9a1 1 0 01-2 0V4h2zm2.981 1A.993.993 0 0117 9.042V4h.981l.993 5a1 1 0 01-.993 1z"/><path fill="none" d="M0 0h24v24H0z"/></svg>';t.exports=n,e.default=n},Ncxw:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r=n("hcB2"),o=n("Nf2R"),i=n("uDCT"),a=n("QcEf"),u=n("2zbF"),c=Object(r.c)("config/get",(function(t){return o.default.get(t,"/api/v2/me/configs")}),{modifiers:[Object(i.a)((function(t){if(!Object(u.a)(t.getState()))return{};var e=t.getState().configs.data;return Object.keys(e).length?e:void 0})),Object(a.a)(1e4)]}),s=Object(r.c)("config/update",(function(t,e){return o.default.put(t,"/api/v2/me/configs/".concat(e.key),e.value)}))},QWSN:function(t,e,n){"use strict";(function(t){var r=n("VtSi"),o=n.n(r),i=n("QsI/"),a=n("9fIP"),u=n("zjfJ"),c=n("sQAm"),s=n("pPWm"),f=n("+2Gz"),l=n("gEh6"),d=Object(s.a)();e.a=new function e(){var n=this;Object(a.a)(this,e),Object(u.a)(this,"auth2",void 0),Object(u.a)(this,"ready",void 0),Object(u.a)(this,"error",void 0),Object(u.a)(this,"init",(function(){if("undefined"===typeof navigator||!l.u.test(navigator.userAgent))return n.ready||(n.ready=Object(c.a)("https://apis.google.com/js/client:platform.js","google-jssdk").then((function(){return Object(f.a)((function(){return new Promise((function(e){t.gapi.load("auth2",(function(){n.auth2=t.gapi.auth2.init({client_id:d.google.clientId}),n.auth2.then(e,(function(t){n.error=t}))}))}))}))}))),n.ready})),Object(u.a)(this,"getCurrentUserToken",(function(){return n.auth2.currentUser.get().getAuthResponse().id_token})),Object(u.a)(this,"getToken",Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.ready||(n.ready=n.init()),t.next=3,n.ready;case 3:if(n.auth2){t.next=5;break}throw new Error("GoogleSDK not ready");case 5:if(n.auth2.isSignedIn.get()){t.next=8;break}return t.next=8,n.auth2.signIn();case 8:return t.abrupt("return",n.getCurrentUserToken());case 9:case"end":return t.stop()}}),t)}))))}}).call(this,n("fRV1"))},Stf6:function(t,e,n){"use strict";(function(t){var r=n("VtSi"),o=n.n(r),i=n("QsI/"),a=n("9fIP"),u=n("MMYH"),c=n("zjfJ"),s=n("2srY"),f=n.n(s),l=n("sQAm"),d=n("pPWm"),p=n("gEh6"),b=n("+2Gz"),h=Object(d.a)(),v=["public_profile","email"].join(","),m=function(){function e(){Object(a.a)(this,e),Object(c.a)(this,"FB",void 0),Object(c.a)(this,"ready",void 0),Object(c.a)(this,"error",void 0)}return Object(u.a)(e,[{key:"init",value:function(){var e=this;if("undefined"!==typeof navigator&&p.u.test(navigator.userAgent))return Promise.resolve();if(this.ready)return this.ready;var n=(navigator.language||"en-US").replace("-","_");return this.ready=Object(b.a)(Object(i.a)(o.a.mark((function r(){var i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="https://connect.facebook.net/".concat(n,"/sdk.js"),r.next=3,Object(l.a)(i,"facebook-jssdk");case 3:return r.abrupt("return",new Promise((function(n,r){t.fbAsyncInit=function(){delete t.fbAsyncInit,e.FB=t.FB;try{e.FB.init({appId:h.facebook.clientId,xfbml:!0,version:h.facebook.version}),n()}catch(o){e.error=o,r(o)}}})));case 4:case"end":return r.stop()}}),r)})))),this.ready}},{key:"waitForReady",value:function(){var t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.ready||(this.ready=this.init()),t.next=3,this.ready;case 3:if(this.FB){t.next=5;break}throw new Error("FacebookSDK not ready");case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getToken",value:function(){var t=Object(i.a)(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForReady();case 2:return t.abrupt("return",new Promise((function(t,n){e.FB.login((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"connected"===e.status?t(f()(e,"authResponse.accessToken")):n(e)}),{scope:v})})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),e}();e.a=new m}).call(this,n("fRV1"))},TaRV:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("hcB2"),o=n("Nf2R"),i=n("uDCT"),a=n("XSqM"),u=Object(r.c)("school/list",(function(t){return o.default.get(t,"/api/v2/schools",{available:!0})}),{modifiers:[Object(i.a)((function(t){var e=t.getState().school,n=e.loading,r=e.fetched;return!n&&!r}))]}),c=Object(r.c)("school/getStats",(function(t,e){return o.default.get(t,"/api/v2/schools/".concat(e,"/stats"))}),{modifiers:[Object(i.a)((function(t,e){var n,r=Object(a.b)(t.getState(),e);return"number"!==typeof(null===r||void 0===r||null===(n=r.stats)||void 0===n?void 0:n.totalMembers)}))]})},Tk3t:function(t,e,n){"use strict";var r=n("yDbQ"),o=n("ht4C"),i=n.n(o);e.a=Object(r.a)(i.a)},XSqM:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n("8e5w").a.getSelectors((function(t){return t.school})),o=r.selectAll,i=r.selectById,a=o,u=i},Ytc4:function(t,e,n){"use strict";(function(t){var r=n("VtSi"),o=n.n(r),i=n("Czhu"),a=n("QsI/"),u=n("9fIP"),c=n("MMYH"),s=n("zjfJ"),f=n("fN3Q"),l=n.n(f),d=n("+2Gz"),p=n("mcHA"),b=n("sQAm"),h=n("gEh6"),v=["name","email"].join(" "),m=function(){function e(){var n=this;Object(u.a)(this,e),Object(s.a)(this,"ready",void 0),Object(s.a)(this,"state",void 0),Object(s.a)(this,"error",void 0),Object(s.a)(this,"init",(function(){if("undefined"===typeof navigator||!h.u.test(navigator.userAgent)){if(n.ready)return n.ready;var e="".concat(location.origin,"/service/oauth/callback");return n.ready=Object(b.a)("https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/zh_TW/appleid.auth.js","apple-jssdk").then((function(){return Object(d.a)((function(){return n.state=l.a.v4(),new Promise((function(r,o){try{t.AppleID.auth.init({clientId:"tw.dcard.www",scope:v,redirectURI:e,state:n.state,usePopup:!0}),r()}catch(i){n.error=i,o(i)}}))}))})),n.ready}}))}return Object(c.a)(e,[{key:"getTokenAndName",value:function(){var e=Object(a.a)(o.a.mark((function e(){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ready||(this.ready=this.init()),e.next=3,this.ready;case 3:return e.next=5,t.AppleID.auth.signIn();case 5:if((n=e.sent).authorization.state===this.state){e.next=8;break}throw new Error("Inconsistent State");case 8:return r=Object(p.a)(n.user),a=Object(i.a)({token:n.authorization.code},r&&{name:r}),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();e.a=new m}).call(this,n("fRV1"))},cXXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ERkP"),o=n.n(r),i=n("7OxE"),a=n("neW5"),u=o.a.createElement;function c(t){var e=t.scroller,n=t.children,o=Object(r.useMemo)((function(){return Object(i.b)(e)}),[e]);return u(a.a.Provider,{value:o},n)}},d9YI:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HnWI"),o=new r.a((function(t){return t.complete()}))},fAjh:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.realtimeHotForumList="realtime_hot_forum_list",t.subscribedForumList="subscribed_forum_list",t.allForumList="all_forum_list",t.selectedForumList="selected_forum_list",t.moderatorForumList="moderator_forum_list",t.favoriteList="favorite_list",t.forumList="forum_list",t.specialEventForumList="special_event_forum_list",t.pinnedEntranceForumList="pinned_entrance_forum_list",t.gamezoneList="gamezone",t.hot="hot",t.latest="latest",t.topicHot="topic_hot",t.topicLatest="topic_latest",t.searchAll="search_all",t.searchForums="search_forums",t.searchPersona="search_persona",t.searchPosts="search_posts",t.searchTopics="search_topics",t.collection="collection",t.myPost="my_post",t.darsys="darsys",t.personaPost="persona_post",t.myFollowingPersona="my_following_persona",t.myFollowingTopics="my_following_topics",t.myPersonaPost="my_persona_post",t.myProfile="my_profile",t.following="following",t.recommend="recommend",t.athenaHK="athena-HK",t.featuredPost="featured_post",t.feedVideoAd="feed_video_ad",t.banner="banner",t.inappNotification="inapp_notification",t.operationHawkeyeWidget="operation_hawkeye_widget",t.utm="utm",t.storyBar="story_bar",t.post="post_viewed",t.postComment="comment",t.postCommentBigMic="new_post",t.postArticleReply="article_reply",t.postArticleContent="article_content",t.postArticleCrossPost="article_crosspost",t.share="share",t.ecBanner="ec_banner",t.ecDarsys="ec_darsys",t.ecList="ec_list",t.ecHome="ec_home",t.message="message"}(r||(r={}))},ht4C:function(t,e){var n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 22a3.491 3.491 0 01-3.15-2h1.841a1.985 1.985 0 001.309.5 1.985 1.985 0 001.309-.5h1.841A3.491 3.491 0 0112 22zm7.6-7.033L18.5 13.5v-3a5.993 5.993 0 00-.261-1.751L20.5 6.488 19.009 5l-1.8 1.8-.005-.005L5.18 18.82h.008l-.688.688L5.991 21l2-2H18a2 2 0 002-2v-1h-.027a1.982 1.982 0 00-.373-1.033zm-3.983-9.584L4 17v-1h.027a1.991 1.991 0 01.373-1.033L5.5 13.5v-3a6 6 0 014.034-5.664A2.483 2.483 0 019.5 4.5 2.5 2.5 0 0112 2a2.5 2.5 0 012.5 2.5 2.5 2.5 0 01-.035.349 6.037 6.037 0 011.152.534zm-4.612-.858c.164-.013.328-.025.495-.025h1c.167 0 .329.021.493.035 0-.012.007-.023.007-.035a1 1 0 00-1-1 1 1 0 00-1 1c0 .009.005.016.005.025z"/></svg>';t.exports=n,e.default=n},jzuX:function(t,e,n){"use strict";var r=n("yDbQ"),o=n("GGB5"),i=n.n(o);e.a=Object(r.a)(i.a)},"k1L/":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Czhu"),o=n("CDTI");function i(){return Object(o.a)({rejected:function(t,e){return t.dispatch(Object(r.a)(Object(r.a)({},e),{},{meta:Object(r.a)(Object(r.a)({},e.meta),{},{alertOnServerDown:!1})}))}})}},kOVi:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},lUPP:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kOVi"),o=n("z6NV"),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},mcHA:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const r=/[a-zA-Z]/;function o(t){const e=null===t||void 0===t?void 0:t.name;if(e){let t;return t=r.test(e.lastName)||r.test(e.firstName)?`${e.firstName||""} ${e.lastName||""}`.trim():`${e.lastName||""}${e.firstName||""}`.trim(),t}}},neW5:function(t,e,n){"use strict";var r=n("nnm9"),o=n.n(r),i=n("ERkP"),a=n("7OxE"),u=Object(a.b)(Object(a.a)({scrollTo:o.a}));e.a=Object(i.createContext)(u)},o2U9:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("Czhu"),o=n("DRLc"),i=n("1ZvU"),a=Object(o.a)({selectId:function(t){return t.friend.id},transform:function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{speakerId:"".concat(t.speakerId),friend:Object(r.a)(Object(r.a)({},t.friend),{},{id:"".concat(null===t||void 0===t||null===(e=t.friend)||void 0===e?void 0:e.id)}),timeString:Object(i.b)(t.createdAt,{full:!0})})}})},pFUL:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.ForumInfoNewPostTutorialShown="forumInfoNewPostTutorialShown",t.NsfwEnable="nsfw_enable",t.NsfwThumbnailEnable="nsfw_thumbnail_enable",t.PersonaBeenSubscribed="personaBeenSubscribed",t.PersonaCelebrityOnboardingShown="personaCelebrityOnboardingShown",t.PersonaFollowPostAuthorShown="personaFollowPostAuthorShown",t.PersonaNotificationShown="personaNotificationShown",t.PersonaSubscriptionShown="personaSubscriptionShown",t.MediaPostUploaderHintShown="mediaPostUploaderHintShown",t.SubscriptionTutorialShown="subscription_tutorial_shown",t.SubscriptionTutorialClicked="subscription_tutorial_clicked"}(r||(r={}))},riKq:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},snle:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}()},uv0x:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={all:"notify",trending:"trending",mute:"denotify"}},z6NV:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))}}]);
