(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{"//nZ":function(t,e,n){var r=n("QwI6"),i=n("cH1A")((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},"/Ot9":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return d}));var r=n("hcB2"),i=n("Nf2R"),a=n("1PvQ"),o=n("kWB/"),c=Object(r.b)(a.a.GET_ME,(function(t,e){var n,r,a=e.refresh,o=null===(n=t.getState())||void 0===n||null===(r=n.user)||void 0===r?void 0:r.data;return!a&&o&&o.id?o:i.default.get(t,"/api/v2/me")})),u=Object(r.b)(a.a.GET_ME_FIELDS,(function(t){return i.default.get(t,"/api/v2/me/fields")})),d=Object(r.b)(a.a.UPDATE_ME,(function(t,e){return i.default.put(t,"/api/v2/me",e)}),{toast:{failure:{element:"\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u9001\u51fa",intent:o.a.danger}}})},"0Ocv":function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}},"4IkF":function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return T})),n.d(e,"b",(function(){return C}));var r=n("Czhu"),i=n("2h71"),a=n("fGyu"),o=n("zjfJ"),c=n("jLkM"),u=n.n(c),d=n("u6DZ"),f=n.n(d),s=n("zWgn"),l=n.n(s),b=n("9EWH"),p=n("fN3Q"),v=n.n(p),O=n("7JB5"),g=n("1PvQ"),h=n("H5tw"),m=n("MKtF"),j=function(){return!0},y=function(){return{data:{},error:null,paginations:{},paging:{head:{},pageKey:{},nextKey:{}},listKeyOfPages:{},idOfPrimaryKeys:{}}},T=function(){return{fetched:!1,error:!1,index:[],loading:!1,noMore:!1}},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(t.id)||v.a.v4()},_=function(t){var e,n;return null===t||void 0===t||null===(e=t.meta)||void 0===e||null===(n=e.requestArg)||void 0===n?void 0:n.listKey},I=function(t,e){return!!e&&!e.length},E=function(t,e,n){var r=n.getPkKey,i=n.transform,a=n.merge,o=r(e),c=e&&e.id&&o&&e.id!==o;t.data[o]=a(t.data[o],i(e)),c&&(t.idOfPrimaryKeys[e.id]=o)},x=function(t){var e;return e={},Object(o.a)(e,g.c.REQUEST,(function(t,e){var n=e.meta,r=(n=void 0===n?{}:n).key,i=void 0===r?m.a:r,a=n.refresh,o=void 0!==a&&a;return Object(b.a)(t,(function(t){var e=t.paginations[i]||T();e.loading=!0,o&&(e.index=[]),t.error=null,t.paginations[i]=e}))})),Object(o.a)(e,g.c.SUCCESS,(function(e,n){var r=n.payload,i=n.meta,a=(i=void 0===i?{}:i).key,o=void 0===a?m.a:a,c=i.forward,d=void 0!==c&&c,s=i.updateNoMore,l=void 0===s?I:s,p=i.sortIndexBy,v=i.shouldUpdatePagination,O=void 0===v||v;return Object(b.a)(e,(function(e){var n,i,a=e.paginations[o]||T();if(a.fetched=!0,a.loading=!1,a.error=!1,r){if(a.noMore=l(a.noMore,r),O){var c=r.filter(t.listFilter).map((function(e){return t.getPkKey(e)}));c=u()(d?c.concat(a.index):a.index.concat(c)),p&&(c=f()(c,[p])),a.index=c}t.paginationOnly||function(t,e,n){e.forEach((function(e){E(t,e,n)}))}(e,r,t),e.error=null,e.paginations[o]=a,null===(n=(i=t.callback).list)||void 0===n||n.call(i,r)}}))})),Object(o.a)(e,g.c.FAILURE,(function(t,e){var n=e.payload,r=e.meta,i=(r=void 0===r?{key:m.a}:r).key,a=void 0===i?m.a:i;return Object(b.a)(t,(function(t){var e=t.paginations[a]||T();e.fetched=!0,e.error=!0,e.loading=!1,t.error=n,t.paginations[a]=e}))})),e},A=function(t){var e;return e={},Object(o.a)(e,g.c.REQUEST,(function(t,e){var n=e.meta,r=(n=void 0===n?{key:m.a}:n).key,i=void 0===r?m.a:r;return Object(b.a)(t,(function(t){var e=t.paginations[i]||T();e.error=!1,e.loading=!0,t.error=null,t.paginations[i]=e}))})),Object(o.a)(e,g.c.SUCCESS,(function(e,n){var r=n.payload,i=n.meta,o=(i=void 0===i?{key:m.a}:i).key,c=void 0===o?m.a:o,d=i.forward,f=i.shouldUpdatePagination,s=void 0===f||f;return Object(b.a)(e,(function(e){var n,i,o=e.paginations[c]||T();if(o.loading=!1,o.fetched=!0,r){var f=t.getPkKey(r);s&&(o.index=u()(d?[f].concat(Object(a.a)(o.index)):o.index.concat(f))),t.paginationOnly||E(e,r,t),e.error=null,e.paginations[c]=o,null===(n=(i=t.callback).update)||void 0===n||n.call(i,r)}}))})),Object(o.a)(e,g.c.FAILURE,(function(t,e){var n=e.payload,r=e.meta,i=(r=void 0===r?{key:m.a}:r).key,a=void 0===i?m.a:i;return Object(b.a)(t,(function(t){var e=t.paginations[a]||T();e.error=!0,e.loading=!1,e.fetched=!0,t.error=n,t.paginations[a]=e}))})),e},P=function(t){var e;return e={},Object(o.a)(e,g.c.REQUEST,(function(t,e){var n=e.meta,r=(n=void 0===n?{key:m.a}:n).key,i=void 0===r?m.a:r;return Object(b.a)(t,(function(t){var e=t.paginations[i];e&&(e.loading=!0,t.error=null)}))})),Object(o.a)(e,g.c.SUCCESS,(function(e,n){var r=n.payload,i=n.meta,a=(i=void 0===i?{}:i).requestArg,o=void 0===a?{}:a,c=i.shouldUpdatePagination,u=void 0===c||c;return Object(b.a)(e,(function(e){var n,i,a=t.getPkKey(o);e.error=null,t.paginationOnly||delete e.data[a];for(var c=0,d=Object.values(e.paginations);c<d.length;c++){var f=d[c];f.loading=!1,u&&(f.index=f.index.filter((function(t){return t!=="".concat(a)})))}null===(n=(i=t.callback).destroy)||void 0===n||n.call(i,r)}))})),Object(o.a)(e,g.c.FAILURE,(function(t,e){var n=e.payload,r=e.meta,i=(r=void 0===r?{}:r).key,a=void 0===i?m.a:i;return Object(b.a)(t,(function(t){var e=t.paginations[a];e&&(e.error=!0,e.loading=!1,t.error=n)}))})),e},D=function(t){var e;return e={},Object(o.a)(e,g.c.REQUEST,(function(e,n){return Object(b.a)(e,(function(e){var r=t.getPagingListKey(n);if(r){var i=Object(m.b)({listKey:r}),a=e.paginations[i]||T();a.loading=!0,e.paginations[i]=a,e.error=null}}))})),Object(o.a)(e,g.c.SUCCESS,(function(e,n){return Object(b.a)(e,(function(e){var r,i,a,o=t.getPagingListKey(n),c=Object(m.b)({listKey:o}),u=e.paginations[c]||T();if(o){u.error=!1,u.loading=!1;var d=null===n||void 0===n||null===(r=n.payload)||void 0===r?void 0:r.head;d&&(e.paging.head[o]=d,e.paging.nextKey[o]=d,u.index=[],e.listKeyOfPages[d]=o),e.paginations[c]=u,null===(i=(a=t.callback).getHead)||void 0===i||i.call(a,null===n||void 0===n?void 0:n.payload)}}))})),Object(o.a)(e,g.c.FAILURE,(function(e,n){return Object(b.a)(e,(function(e){var r=t.getPagingListKey(n);if(r){var i=Object(m.b)({listKey:r}),a=e.paginations[i]||T();a.error=!0,a.loading=!1,a.fetched=!0,e.error=n.payload,e.paginations[i]=a}}))})),e},w=function(t){var e;return e={},Object(o.a)(e,g.c.REQUEST,(function(e,n){return Object(b.a)(e,(function(e){var r,i,a=null===n||void 0===n||null===(r=n.meta)||void 0===r||null===(i=r.requestArg)||void 0===i?void 0:i.pageKey;if(a){var o=e.listKeyOfPages[a]||t.getPagingListKey(n),c=Object(m.b)({listKey:o}),u=e.paginations[c]||T();u.loading=!0,e.paginations[c]=u}}))})),Object(o.a)(e,g.c.SUCCESS,(function(e,n){return Object(b.a)(e,(function(e){var r,a;if(n.payload){var o=n.payload||{},c=o.pageKey,u=o.nextKey,d=o.items,f=void 0===d?[]:d,s=e.listKeyOfPages[c]||t.getPagingListKey(n);e.paging.pageKey[c]=!0,e.paging.nextKey[s]=u;var l,b=Object(m.b)({listKey:s}),p=e.paginations[b]||T(),v=Object(i.a)(f);try{for(v.s();!(l=v.n()).done;){var O=l.value,g=t.getPkKey(O);p.index.push(g),e.data[g]=t.merge(e.data[g],t.transform(O))}}catch(h){v.e(h)}finally{v.f()}p.error=!1,p.loading=!1,p.fetched=!0,p.noMore=!u,e.paginations[b]=p,e.listKeyOfPages[c]=s,u&&(e.listKeyOfPages[u]=s),null===(r=(a=t.callback).getPage)||void 0===r||r.call(a,null===n||void 0===n?void 0:n.payload)}}))})),Object(o.a)(e,g.c.FAILURE,(function(e,n){return Object(b.a)(e,(function(e){var r,i,a=null===n||void 0===n||null===(r=n.meta)||void 0===r||null===(i=r.requestArg)||void 0===i?void 0:i.pageKey;if(a){var o=e.listKeyOfPages[a]||t.getPagingListKey(n),c=Object(m.b)({listKey:o}),u=e.paginations[c]||T();u.loading=!1,u.fetched=!0,u.error=!0,e.paginations[c]=u,e.error=n.payload}}))})),e},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.a)({getPkKey:S,getPagingListKey:_,listFilter:j,transform:l.a,merge:O.a,paginationOnly:!1,callback:{}},e);return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},Object(h.a)(t.list,x(n))),Object(h.a)(t.update,A(n))),Object(h.a)(t.destroy,P(n))),Object(h.a)(t.getHead,D(n))),Object(h.a)(t.getPage,w(n)))}},"4jPf":function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},"5WP5":function(t,e,n){var r=n("dnX/");t.exports=function(t,e,n){for(var i=-1,a=t.criteria,o=e.criteria,c=a.length,u=n.length;++i<c;){var d=r(a[i],o[i]);if(d)return i>=u?d:d*("desc"==n[i]?-1:1)}return t.index-e.index}},"71+A":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("hcB2"),i=n("Nf2R"),a=n("uDCT"),o=n("zCVg"),c=Object(r.c)("collection/list",(function(t){return i.default.get(t,"/api/v2/collections")}),{modifiers:[Object(a.a)((function(t){var e=Object(o.a)(t.getState());return e.length?e:void 0}))]})},"7Pat":function(t,e){t.exports=function(t){return t}},"7Tip":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return I}));var r,i,a,o=n("zjfJ"),c=n("2h71"),u=n("Czhu"),d=n("d019"),f=n("9EWH"),s=n("1ZvU"),l=n("4IkF"),b=n("1PvQ"),p=n("gEh6"),v=n("h1LJ"),O=n("pPWm"),g=Object(O.a)();!function(t){t.classic="classic",t.image="image",t.video="video",t.link="link"}(i||(i={})),function(t){t.png="image/png",t.jpeg="image/jpeg",t.gif="image/gif",t.webp="image/webp",t.imgur="image/imgur",t.thumbnail="image/thumbnail",t.megapxImage="image/megapx",t.facebookVideo="video/facebook",t.vivid="video/vivid",t.youtube="video/youtube",t.adVideo="video/advertise",t.megapxVideo="video/megapx"}(a||(a={}));var h=[i.classic,i.link];function m(t){if(t.hidden&&t.reportReason)return"\u9019\u7bc7\u6587\u7ae0\u56e0\u300c".concat(t.reportReasonText,"\u300d\uff0c\u5df2\u906d\u79fb\u9664\u3002\u6b64\u70ba\u6587\u7ae0\u5099\u4efd\uff0c\u53ea\u6709\u4f60\u81ea\u5df1\u770b\u5f97\u5230\u3002")}function j(t,e){var n,r=e.useFallback,i=[],o=Object(c.a)(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(u.type===a.thumbnail)return u.thumbnail;i.push(u.thumbnail)}}catch(d){o.e(d)}finally{o.f()}if(r&&i.length>0)return i[0]}function y(t){if(!t)return[];for(var e=[],n=/<em>(.*?)<\/em>/g,r=null,i=0;null!=(r=n.exec(t));)e.push({text:t.slice(i,r.index)},{text:r[1],highlight:!0}),i=n.lastIndex;return e.push({text:t.slice(i)}),e}function T(t){var e;return null!==(e=null===t||void 0===t?void 0:t.reduce((function(t,e){return t+e.text}),""))&&void 0!==e?e:""}function S(t){var e=t.find((function(t){return t.type===a.adVideo})),n=e&&e.url.match(p.g),r=n&&n[1];if(r)return r}function _(t){var e,n,r,i,a,o,c,d,f,s,l,b,p,v,O,g,h,m;return Object(u.a)(Object(u.a)({},t.customStyle),{},{showCreatedAt:null===(e=null===(n=t.customStyle)||void 0===n?void 0:n.showCreatedAt)||void 0===e||e,showHeaderForum:null===(r=null===(i=t.customStyle)||void 0===i?void 0:i.showHeaderForum)||void 0===r||r,label:(null===t||void 0===t||null===(a=t.customStyle)||void 0===a?void 0:a.enableShopButton)?null:null!==(o=null===(c=t.customStyle)||void 0===c?void 0:c.label)&&void 0!==o?o:null,headerColor:(null===t||void 0===t||null===(d=t.customStyle)||void 0===d?void 0:d.enableShopButton)?null:null!==(f=null===(s=t.customStyle)||void 0===s?void 0:s.headerColor)&&void 0!==f?f:null,showAds:null===(l=null===(b=t.customStyle)||void 0===b?void 0:b.showAds)||void 0===l||l,darsysType:null!==(p=null===(v=t.customStyle)||void 0===v?void 0:v.darsysType)&&void 0!==p?p:"similarPosts",showPopularComments:null===(O=null===(g=t.customStyle)||void 0===g?void 0:g.showPopularComments)||void 0===O||O,enableShopButton:!!(null===(h=t.customStyle)||void 0===h?void 0:h.enableShopButton),enableSurveyButton:!!(null===(m=t.customStyle)||void 0===m?void 0:m.enableSurveyButton)})}function I(t){var e,n,r,o,c,d,f,l=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var e=Object(v.a)(t.url,{global:!1,size:"h",resizeGif:!1});return Object(u.a)(Object(u.a)({},t),{},{url:e,normalizedUrl:e,thumbnail:Object(v.a)(t.url,{global:!1,size:"b",resizeGif:!0})})}))}(t.mediaMeta),b=y(t.title),p=T(b),O=null!==(e=null===t||void 0===t||null===(n=t.customStyle)||void 0===n?void 0:n.enableShopButton)&&void 0!==e&&e,h=t.withNickname&&t.department||"",I=null===(r=null===t||void 0===t||null===(o=t.customStyle)||void 0===o?void 0:o.showAds)||void 0===r||r;return Object(u.a)(Object(u.a)(Object(u.a)({},t),{},{id:"".concat(t.id),authorName:(f=t,f.withNickname?f.school:f.anonymousSchool||f.anonymousDepartment?!f.anonymousSchool&&f.school?f.school:"\u533f\u540d":"".concat(f.school).concat(f.department&&" ".concat(f.department))),authorUid:h,customStyle:_(t),backupMessage:m(t),title:p,titleSegments:b},"string"===typeof t.content&&{contentSegments:y(t.content)}),{},{excerptSegments:y(t.excerpt),mediaMeta:l,reactionCount:(t.reactions||[]).reduce((function(t,e){return t+(e.count||0)}),0),thumbnail:j(l,{useFallback:t.layout===i.image}),goodMediaMeta:(d=l,d.filter((function(t){return[a.png,a.jpeg,a.webp,a.imgur].includes(t.type)}))),timeString:Object(s.b)(t.createdAt,{full:!0}),specialTimeString:Object(s.a)(t.createdAt),isEC:O,enableAd:I,meta:Object(u.a)({},t.meta),reactions:t.reactions||[],fullUrl:"https://".concat(g.domain,"/f/").concat(t.forumAlias,"/p/").concat(t.id)},(null===t||void 0===t||null===(c=t.customStyle)||void 0===c?void 0:c.isVideoAD)&&{adVideoId:S(l)})}e.c=Object(d.a)(Object(u.a)(Object(u.a)({},Object(l.b)({list:[b.a.LIST_POST,b.a.LIST_MY_POST,b.a.LIST_COLLECTED_POST,b.a.LIST_FEATURED_POST],update:[b.a.GET_POST,b.a.CREATE_POST,b.a.UPDATE_POST],destroy:[b.a.DESTROY_POST],getHead:[b.a.GET_POST_PAGING_HEAD],getPage:[b.a.GET_POST_PAGING_PAGE]},{transform:I,merge:function(t,e){return Object(u.a)(Object(u.a)({},t),e)}})),{},(r={},Object(o.a)(r,b.a.GET_POST.FAILURE,(function(t,e){var n=e.meta,r=e.payload;return Object(f.a)(t,(function(t){var e,i=null===n||void 0===n||null===(e=n.requestArg)||void 0===e?void 0:e.id;t.errorDetails[i]=r}))})),Object(o.a)(r,b.a.GET_POST_INFINITE_INDEX.SUCCESS,(function(t,e){var n=e.meta,r=e.payload;return Object(f.a)(t,(function(t){var e,i,a=null!==(e=null===n||void 0===n||null===(i=n.requestArg)||void 0===i?void 0:i.forumAlias)&&void 0!==e?e:"",o=null===r||void 0===r?void 0:r.id;o&&(t.infiniteIndices[a]={id:o})}))})),Object(o.a)(r,b.a.GET_POST_INFINITE_INDEX.FAILURE,(function(t,e){var n=e.meta,r=e.payload;return Object(f.a)(t,(function(t){var e,i,a=null!==(e=null===n||void 0===n||null===(i=n.requestArg)||void 0===i?void 0:i.forumAlias)&&void 0!==e?e:"",o=null===r||void 0===r?void 0:r.error;o&&(t.infiniteIndices[a]={error:o})}))})),Object(o.a)(r,b.a.REACT_POST.SUCCESS,(function(t,e){var n=e.meta;return Object(f.a)(t,(function(t){var e,r,i=null===n||void 0===n||null===(e=n.requestArg)||void 0===e?void 0:e.id,a=null===n||void 0===n||null===(r=n.requestArg)||void 0===r?void 0:r.reactionId,o=(t.data[i]||{}).reacted,c=void 0===o?null:o,u=t.data[i],d=(u.reactions||[]).findIndex((function(t){return t.id===a}));if(c)return delete u.reacted,u.reactionCount-=1,void(u.reactions&&-1!==d&&(u.reactions[d].count=(u.reactions[d].count||0)-1,0===u.reactions[d].count&&u.reactions.splice(d,1)));u.reacted=a,u.reactionCount+=1,u.reactions&&-1!==d?u.reactions[d].count=(u.reactions[d].count||0)+1:u.reactions=[{count:1,id:a}]}))})),Object(o.a)(r,b.a.COLLECT_POST.SUCCESS,(function(t,e){var n=e.meta;return Object(f.a)(t,(function(t){var e,r=null===n||void 0===n||null===(e=n.requestArg)||void 0===e?void 0:e.id;t.data[r].collected=!t.data[r].collected}))})),Object(o.a)(r,b.a.SUBSCRIBE_POST.SUCCESS,(function(t,e){var n=e.meta;return Object(f.a)(t,(function(t){var e,r=null===n||void 0===n||null===(e=n.requestArg)||void 0===e?void 0:e.id;t.data[r].subscribed=!t.data[r].subscribed}))})),Object(o.a)(r,b.d.ELEVATE_POST,(function(t,e){var n=e.payload;return Object(f.a)(t,(function(t){t.elevated=n}))})),Object(o.a)(r,b.a.CREATE_COMMENT.SUCCESS,(function(t,e){var n=e.payload;return Object(f.a)(t,(function(e){if(n){var r=n.postId;t.data[r]&&(e.data[r].commentCount+=1)}}))})),r)),Object(u.a)(Object(u.a)({},Object(l.a)()),{},{elevated:null,errorDetails:{},infiniteIndices:{}}))},"7tFQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D57K"),i=n("+2Gz");function a(){return t=>function(e){return(n,a)=>Object(r.a)(this,void 0,void 0,(function*(){const r=()=>t(e)(n,a);if("undefined"!==typeof window){return yield Object(i.a)(r)}return r()}))}}},"8uyH":function(t,e,n){var r=n("dpio"),i=n("OekA"),a=n("S3pA"),o=n("wxYD");t.exports=function(t,e){return function(n,c){var u=o(n)?r:i,d=e?e():{};return u(n,t,a(c,2),d)}}},"9w6I":function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return p}));var r=n("Czhu"),i=n("taLD"),a=n.n(i),o=n("+l7i"),c=n("MKtF"),u=function(t){var e=t.floor,n=t.postId;return"".concat(n,"-").concat(e)},d=function(t){return+t.split("-")[1]||0},f=function(t){return{postId:"".concat(t.postId),popular:!!t.popular}},s=Object(c.g)("comment"),l=Object(c.h)("comment");function b(t,e){return t.comment.data[u(e)]}var p=Object(o.createSelector)(s,(function(t,e){var n=e.postId,r=Object.values(t.indictment.data).filter((function(t){return"comment"in t&&t.postId===n})).map((function(t){return t.comment}));return a()(r,"floor")}),(function(t,e){return t.length?Object.values(e).length?t.map((function(t){var n=e[t.floor];return n?Object(r.a)(Object(r.a)({},t),{},{content:n.content},t.inReview&&{authorName:"\u9019\u5247\u8a0a\u606f\u5df2\u88ab\u6aa2\u8209"}):t})):t:[]}))},EHEA:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return f}));var r=n("GRbO"),i=n("MKtF");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{active:Object(r.a)(t.active),forumAlias:t.forumAlias,category:t.category}}var o=Object(i.h)("dadasCampaign"),c=Object(i.g)("dadasCampaign");function u(t,e){return t.dadasCampaignStatus.data[Object(i.b)(e)]}function d(t,e){return t.dadasSurveyTeam.data[e]}function f(t,e){return t.surveyTeamLastSeenTime.data[e]||0}},EHGq:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"k",(function(){return b})),n.d(e,"i",(function(){return p})),n.d(e,"a",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"j",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return y})),n.d(e,"b",(function(){return S}));var r=n("Czhu"),i=n("//nZ"),a=n.n(i),o=n("+l7i"),c=n("oTYA"),u=n("MKtF"),d=n("GRbO"),f=n("G5Zb"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(d.a)(t.latest),n=Object(d.a)(t.pessoal),i=Object(d.a)(t.mypost),o=t.ids,c=t.uid;return o?{ids:o}:c?{uid:c}:t.listKey?{listKey:t.listKey}:Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({forumAlias:t.forumAlias||"all"},e&&{latest:e}),n&&{pessoal:n}),t.search&&{search:a()(t.search,["query","since","forum","sort","field"])}),t.collection&&{collection:t.collection}),i&&{mypost:i})};function l(t,e){return Object(r.a)(Object(r.a)({},t),{},{reactions:t.reactions.map((function(n){return Object(r.a)(Object(r.a)(Object(r.a)({},n),e[n.id]),{},{active:n.id===t.reacted})}))})}function b(t){return t.reaction.data}var p=Object(u.h)("post");function v(t,e){return t.map((function(t){return l(t,e)}))}var O=Object(o.createSelector)(Object(u.g)("post"),(function(t){return t.filter((function(t){if(!t.currentMember){var e,n;if(null===(e=t.hiddenOnPlatforms)||void 0===e?void 0:e.includes("web"))return!1;if(null===(n=t.forbiddenOnPlatforms)||void 0===n?void 0:n.includes("web"))return!1}return!0}))})),g=Object(o.createSelector)(O,b,v),h=Object(c.a)((function(t,e){return t.post.data[e]}),b,(function(t,e){return t&&l(t,e)}))({keySelector:function(t,e){return e||""}});function m(t,e){return t.post.errorDetails[e]}function j(t,e){var n,r=t.post.data[e];return!!r&&(!r.currentMember&&!!(null===(n=r.forbiddenOnPlatforms)||void 0===n?void 0:n.includes("web")))}function y(t,e){return t.post.infiniteIndices[e]}var T=Object(u.h)("post"),S=Object(o.createSelector)((function(t){return t.post.data}),(function(t,e){return T(t,Object(f.g)(e))}),(function(t,e){return e?e.index.map((function(e){return t[e]})):[]}))},ENE1:function(t,e,n){var r=n("IBsm");t.exports=function(){return r.Date.now()}},G5Zb:function(t,e,n){"use strict";n.d(e,"g",(function(){return M})),n.d(e,"o",(function(){return F})),n.d(e,"l",(function(){return W})),n.d(e,"n",(function(){return q})),n.d(e,"k",(function(){return Y})),n.d(e,"h",(function(){return V})),n.d(e,"f",(function(){return J})),n.d(e,"b",(function(){return $})),n.d(e,"c",(function(){return tt})),n.d(e,"s",(function(){return et})),n.d(e,"d",(function(){return nt})),n.d(e,"p",(function(){return rt})),n.d(e,"a",(function(){return it})),n.d(e,"r",(function(){return at})),n.d(e,"q",(function(){return ot})),n.d(e,"e",(function(){return ct})),n.d(e,"m",(function(){return ut})),n.d(e,"j",(function(){return st})),n.d(e,"i",(function(){return lt}));var r=n("zjfJ"),i=n("2h71"),a=n("HbGN"),o=n("VtSi"),c=n.n(o),u=n("fGyu"),d=n("Czhu"),f=n("QsI/"),s=n("RNvQ"),l=n.n(s),b=n("RBiB"),p=n.n(b),v=n("hcB2"),O=n("71+A"),g=n("dRmo"),h=n("MKtF"),m=n("EHGq"),j=n("2zbF"),y=n("Nfkc"),T=n("Nf2R"),S=n("1PvQ"),_=n("kWB/"),I=n("U2d/"),E=Object(v.b)(S.a.LIST_RECOMMENDED_POST,(function(t,e){var n=e.id,r=e.refresh,i=Object(I.b)(t.getState(),n);if(!(i.error||i.noMore||i.index.length)||r)return T.default.get(t,"/api/v2/darsys/".concat(n)).then((function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.posts)&&void 0!==e?e:[]}))}),(function(t,e){return{key:e&&e.id,refresh:e&&e.refresh}})),x=n("U4wA"),A=n("pQ7i"),P=n("7Tip"),D=n("U7b8"),w=n("kdn0"),C=n("+2Gz"),N=n("HAg6"),k=n("eIKj"),R=n("PaJF"),M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"featuredPost/".concat(t)},H=function(t,e){var n,r,i,a,o;return null!==(n=null===(r=t.getState())||void 0===r||null===(i=r.post)||void 0===i||null===(a=i.data)||void 0===a||null===(o=a[e])||void 0===o?void 0:o.collected)&&void 0!==n&&n},L=function(t,e){var n,r,i,a;return null===(n=t.getState())||void 0===n||null===(r=n.post)||void 0===r||null===(i=r.data)||void 0===i||null===(a=i[e])||void 0===a?void 0:a.reacted},G=function(t,e){var n,r,i,a,o;return null!==(n=null===(r=t.getState())||void 0===r||null===(i=r.post)||void 0===i||null===(a=i.data)||void 0===a||null===(o=a[e])||void 0===o?void 0:o.subscribed)&&void 0!==n&&n},B=function(t){var e=Object(g.a)(t.getState());if(e)return e.id},U=Object(v.b)(S.a.GET_POST_INFINITE_INDEX,(function(t,e){var n=e.forumAlias;return T.default.get(t,"/api/v2/posts/infinityIndex",{forum:n})})),F=Object(v.b)(S.a.LIST_POST,(function(t,e){var n=e.forumAlias,r=void 0===n?"all":n,i=e.latest,a=e.pessoal,o=e.ids,s=e.uid,l=e.refresh,b=e.limit,p=void 0===b?30:b,v=e.after,O=e.before,g=t.getState(),h=Object(m.i)(g,Object(m.d)(e)),j=h.error||h.noMore||h.index.length,y=Object(m.g)(g,r);if(!j||l||v||O){var S=s?"/api/v2/personas/".concat(s,"/posts"):a?"/api/v2/feed/pessoal/posts":"all"===r?"/api/v2/posts":"/api/v2/forums/".concat(r,"/posts"),_=!i&&!a&&!s;return Object(f.a)(c.a.mark((function e(){var n,i,a,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.default.get(t,S,Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},o&&{id:o}),_&&!y&&{popular:!0}),p&&{limit:p}),v&&{after:v}),O&&{before:O}));case 2:if(n=e.sent,!(_&&n.length<p)||y||"all"===r){e.next=12;break}return e.next=6,t.dispatch(U({forumAlias:r}));case 6:return i=Object(m.g)(t.getState(),r),a=i&&i.id,e.next=10,T.default.get(t,S,Object(d.a)({limit:p-n.length},a&&{before:a}));case 10:f=e.sent,n=[].concat(Object(u.a)(n),Object(u.a)(f));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))()}}),(function(t,e){return{key:Object(h.b)(Object(m.d)(e)),refresh:e&&!!e.refresh}})),K=function(t){return{keyForLoadMore:"after",stateKey:"post",paginationOptions:{collection:t}}},W=Object(v.b)(S.a.LIST_COLLECTED_POST,(function(t,e){var n=e.id,r=Object(a.a)(e,["id"]);if(n){var i=Object(h.f)(t,r,K(n));return T.default.get(t,"/api/v2/collections/".concat(n,"/posts"),i)}}),(function(t,e){if(!e)return{};var n=e.id,r=Object(a.a)(e,["id"]);return Object(d.a)({key:Object(h.b)({collection:n})},Object(h.e)(t,r,K(n)))})),z={keyForLoadMore:"before",stateKey:"post"},q=Object(v.b)(S.a.LIST_MY_POST,(function(t,e){var n=Object(h.f)(t,e,z);return T.default.get(t,"/api/v2/me/posts",n,{token:Object(k.a)(t.getState())})}),(function(t,e){return Object(d.a)({key:Object(h.b)({mypost:!0})},Object(h.e)(t,e,z))})),Y=Object(v.b)(S.a.GET_POST,(function(t,e){var n=e.id,r=e.refresh,i=e.preview,a=e.read,o=void 0!==a&&a,c=t.getState(),u=Object(j.a)(c),f=Object(m.j)(c,n),s=Object(m.e)(c,n),l=f&&(i?!!f.title:"string"===typeof f.content);if(!s&&!l||r)return T.default.get(t,"/api/v2/posts/".concat(n),Object(d.a)(Object(d.a)({},i&&{content:"excerpt"}),u&&{read:o}))}),{shouldUpdatePagination:!1});function V(t){return function(){var e=Object(f.a)(c.a.mark((function e(n,r){var i,a,o,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Y(t));case 2:if(i=e.sent,a=Object(m.j)(r(),t.id),o=[i],!a){e.next=14;break}if(!(u=a.meta.crossPostId)){e.next=12;break}return e.next=10,n(Y({id:u}));case 10:(null===(d=Object(m.j)(r(),u))||void 0===d?void 0:d.isEC)&&o.push(n(Object(R.b)({postId:u})));case 12:a.isEC?o.push(n(Object(R.b)({postId:a.id}))):o.push(n(E(t))),a.customStyle.enableSurveyButton&&o.push(n(Object(x.b)({postId:a.id})));case 14:return e.abrupt("return",Promise.all(o));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var Q={},Z=l()(function(){var t=Object(f.a)(c.a.mark((function t(e){var n,r,a,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object.keys(Q),r=p()(n,30),a=Object(i.a)(r),t.prev=3,u=c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.value,t.next=3,Object(C.a)((function(){return e(F({ids:n}))}),{timeout:2e3});case 3:n.forEach((function(t){var e=Q[t];e&&(e.resolve(),delete Q[t])}));case 4:case"end":return t.stop()}}),t)})),a.s();case 6:if((o=a.n()).done){t.next=10;break}return t.delegateYield(u(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),a.e(t.t1);case 15:return t.prev=15,a.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}(),250);function J(t,e){var n;var r=null===(n=Q[e])||void 0===n?void 0:n.promise;if(r)return r;var i={},a=new Promise((function(t,e){i.resolve=t}));return i.promise=a,Q[e]=i,Z(t),a}var X=function(t){var e=t.id,n=t.positive,r=t.layout,i=void 0===r?P.b.classic:r,a=t.edit,o=void 0!==a&&a,c=t.crosspostId,u=t.topics,d=void 0===u?[]:u,f=t.megapxVideoId,s=void 0===f?"":f,l=d.reduce((function(t,e){var n=e.source;return n?(t[n]||(t[n]=[]),t[n].push(e.name),t):t}),{}),b=JSON.stringify(l);i===P.b.video&&n&&A.b.bilanx.enqueue({event:"videoCreated",payload:{videoId:s,topics:b}}),A.b.bilanx.enqueue({event:"postCreated",payload:{postId:+e,positive:n,layout:i,draft:!1,edit:o,crosspostId:c?+c:0,topics:b}})},$=Object(v.b)(S.a.CREATE_POST,function(){var t=Object(f.a)(c.a.mark((function t(e,n){var r,i,o,u,f,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.forum,o=n.replyId,u=n.topics,f=Object(a.a)(n,["forum","replyId","topics"]),s=o?"/api/v2/posts/".concat(o,"/cross"):"/api/v2/forums/".concat(i,"/posts"),t.prev=2,t.next=5,T.default.post(e,s,Object(d.a)(Object(d.a)({},f),{},{topics:u.map((function(t){return t.name}))},o&&{to:i}));case 5:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t.catch(2),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.data)||void 0===r?void 0:r.error,t.next=t.t1===D.b.crossPostIsNsfw?13:t.t1===D.b.cannotPostWithSpecifiedIdentity||t.t1===D.b.cannotPostWithWithoutIdentity?15:18;break;case 13:return e.dispatch(N.b.actions.push({type:N.a.NsfwCrossPost})),t.abrupt("break",18);case 15:return e.dispatch(Object(y.b)({forumAlias:i,refresh:!0})),e.dispatch(N.b.actions.push({type:N.a.InvalidIdentity})),t.abrupt("break",18);case 18:throw t.t0;case 19:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}(),{event:{success:function(t,e){var n=t.layout,r=t.topics,i=t.megapxVideoId,a=e.id;return X({id:"".concat(a),positive:!0,layout:n,edit:!1,topics:r,megapxVideoId:i})},failure:function(t){var e=t.layout,n=t.topics,r=t.megapxVideoId;return X({id:"0",positive:!1,layout:e,edit:!1,topics:n,megapxVideoId:r})}},toast:{success:"\u767c\u6587\u6210\u529f\uff01",failure:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{element:(t={},Object(r.a)(t,D.b.forbidden,"\u6b64\u770b\u677f\u7981\u6b62\u767c\u6587"),Object(r.a)(t,D.b.postRateLimitExceeded,"\u4e00\u5206\u9418\u53ea\u9650\u767c\u4e00\u6b21\u6587\u5537\uff01"),Object(r.a)(t,D.b.maxLength,"\u6700\u591a\u53ea\u80fd\u52a0\u5165\u4e94\u500b\u8a71\u984c\u5537\uff01"),Object(r.a)(t,D.b.postLayoutUnavailable,"\u5167\u5bb9\u4e0d\u7b26\u5408\u770b\u677f\u7248\u9762"),Object(r.a)(t,D.b.cannotPostWithSpecifiedIdentity,"\u7121\u6cd5\u4ee5\u6b64\u8eab\u4efd\u767c\u6587"),t)[e.error]||"\u767c\u6587\u5931\u6557\uff01",type:"snackbar"}}}}),tt=Object(v.b)(S.a.CROSS_POST,function(){var t=Object(f.a)(c.a.mark((function t(e,n){var r,i,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.forum,o=n.replyId,u=Object(a.a)(n,["forum","replyId"]),t.prev=1,t.abrupt("return",T.default.post(e,"/api/v2/posts/".concat(o,"/cross"),Object(d.a)(Object(d.a)({},u),{},{to:i})));case 5:t.prev=5,t.t0=t.catch(1),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.data)||void 0===r?void 0:r.error,t.next=t.t1===D.b.crossPostIsNsfw?10:t.t1===D.b.cannotPostWithSpecifiedIdentity||t.t1===D.b.cannotPostWithWithoutIdentity?12:15;break;case 10:return e.dispatch(N.b.actions.push({type:N.a.NsfwCrossPost})),t.abrupt("break",15);case 12:return e.dispatch(Object(y.b)({forumAlias:i,refresh:!0})),e.dispatch(N.b.actions.push({type:N.a.InvalidIdentity})),t.abrupt("break",15);case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(e,n){return t.apply(this,arguments)}}(),{event:{success:function(t,e){var n=t.replyId,r=e.id;return X({id:"".concat(r),positive:!0,crosspostId:"".concat(n)})},failure:function(){return X({id:"0",positive:!1,crosspostId:"0"})}},toast:{success:"\u8f49\u8cbc\u6210\u529f\uff01",failure:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{element:(t={},Object(r.a)(t,D.b.forbidden,"\u6b64\u770b\u677f\u7981\u6b62\u767c\u6587"),Object(r.a)(t,D.b.postRateLimitExceeded,"\u4e00\u5206\u9418\u53ea\u9650\u8f49\u8cbc\u4e00\u6b21\u6587\u5537\uff01"),Object(r.a)(t,D.b.maxLength,"\u6700\u591a\u53ea\u80fd\u52a0\u5165\u4e94\u500b\u8a71\u984c\u5537\uff01"),Object(r.a)(t,D.b.postLayoutUnavailable,"\u8f49\u8cbc\u5167\u5bb9\u4e0d\u7b26\u5408\u770b\u677f\u7248\u9762"),Object(r.a)(t,D.b.cannotPostWithSpecifiedIdentity,"\u7121\u6cd5\u4ee5\u6b64\u8eab\u4efd\u8f49\u8cbc"),t)[e.error]||"\u8f49\u8cbc\u5931\u6557\uff01",intent:_.a.danger}}}}),et=Object(v.b)(S.a.UPDATE_POST,(function(t,e){var n=e.id,r=e.topics,i=Object(a.a)(e,["id","topics"]);return T.default.put(t,"/api/v2/posts/".concat(n),Object(d.a)(Object(d.a)({},i),{},{topics:r.map((function(t){return t.name}))}))}),{event:{success:function(t){var e=t.topics,n=t.id;return X({id:"".concat(n),positive:!0,edit:!0,topics:e})},failure:function(t){var e=t.topics;return X({id:"0",positive:!1,edit:!0,topics:e})}},toast:{success:"\u7de8\u8f2f\u6210\u529f\uff01",failure:{element:"\u7de8\u8f2f\u5931\u6557\uff01",intent:_.a.danger}}}),nt=Object(v.b)(S.a.DESTROY_POST,(function(t,e){var n=e.id;return T.default.delete(t,"/api/v2/posts/".concat(n))}),{toast:{success:"\u522a\u9664\u6210\u529f\uff01"}}),rt=Object(v.b)(S.a.REACT_POST,(function(t,e){var n=e.id,r=e.reactionId||B(t);return L(t,n)?T.default.delete(t,"/api/v2/posts/".concat(n,"/reactions")):T.default.post(t,"/api/v2/posts/".concat(n,"/reactions"),{reactionId:r})}),(function(t,e){var n=function(e,n,r,i){A.b.bilanx.enqueue({event:"postLiked",payload:{action:"short_press",reactionId:n,position:r,success:i,postId:+e,positive:!L(t,e)}})};return{event:{success:function(t){var e=t.id,r=t.reactionId,i=t.position;return n(e,r,i,!0)},failure:function(t){var e=t.id,r=t.reactionId,i=t.position;return n(e,r,i,!1)}},requestArg:{id:(e||{}).id,position:(e||{}).position,reactionId:(e||{}).reactionId||B(t)}}})),it=Object(v.b)(S.a.COLLECT_POST,function(){var t=Object(f.a)(c.a.mark((function t(e,n){var r,i,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,t.t0=w.g,t.next=4,e.dispatch(Object(O.a)());case 4:if(t.t1=t.sent,i=(0,t.t0)(t.t1),a=i[0]||{},!H(e,r)){t.next=10;break}return t.abrupt("return",T.default.delete(e,"/api/v2/collections/".concat(a.id,"/posts/").concat(r)));case 10:return t.abrupt("return",T.default.post(e,"/api/v2/collections/".concat(a.id,"/posts"),{postId:r}));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e){var n=function(e,n,r){A.b.bilanx.enqueue({event:"postCollected",payload:{success:r,position:n,postId:+e,positive:!H(t,e)}})};return{event:{success:function(t){var e=t.id,r=t.position;return n(e,r,!0)},failure:function(t){var e=t.id,r=t.position;return n(e,r,!1)}},toast:{success:H(t,e&&e.id||"")?"\u53d6\u6d88\u6536\u85cf\u6210\u529f\uff01":"\u6536\u85cf\u6210\u529f\uff01"}}})),at=Object(v.b)(S.a.SUBSCRIBE_POST,(function(t,e){var n=e.id;return G(t,n)?T.default.delete(t,"/api/v2/posts/".concat(n,"/subscribe")):T.default.post(t,"/api/v2/posts/".concat(n,"/subscribe"))}),(function(t,e){var n=function(e,n,r){A.b.bilanx.enqueue({event:"postSubscribed",payload:{success:r,position:n,postId:+e,positive:!G(t,e)}})};return{event:{success:function(t){var e=t.id,r=t.position;return n(e,r,!0)},failure:function(t){var e=t.id,r=t.position;return n(e,r,!1)}},toast:{success:G(t,e&&e.id||"")?"\u53d6\u6d88\u8ffd\u8e64\u6210\u529f\uff01":"\u8ffd\u8e64\u6210\u529f\uff01"}}})),ot=Object(v.b)(S.a.REPORT_POST,(function(t,e){var n=e.id,r=e.reason,i=e.ruleId;return T.default.post(t,"/moderator/api/post/".concat(n,"/report"),{reason:r,ruleId:i})}),{event:{request:function(t){var e=t.id,n=t.alias;return A.b.bilanx.enqueue({event:"postReported",payload:{postId:+e,reason:n}})}},toast:{success:"\u6587\u7ae0\u6aa2\u8209\u6210\u529f\uff01",failure:function(t){var e;return{element:(e={},Object(r.a)(e,D.b.reportOfficialMustBeGlobalRule,"\u6aa2\u8209\u5931\u6557\uff01"),Object(r.a)(e,D.b.postReportDuplicate,"\u5df2\u7d93\u6aa2\u8209\u904e\u4e86\uff0c\u7121\u6cd5\u91cd\u8907\u6aa2\u8209\u5594\uff01"),e)[t.error],intent:_.a.danger}}}}),ct=Object(v.a)(S.d.ELEVATE_POST),ut=Object(v.b)(S.a.LIST_FEATURED_POST,(function(t,e){var n=e.alias,r=t.getState(),i=Object(m.b)(r,n);if(!(i&&i.length>0))return T.default.get(t,"/api/v2/forums/".concat(n,"/featuredPosts"))}),(function(t,e){return{key:M(null===e||void 0===e?void 0:e.alias)}})),dt=Object(v.b)(S.a.GET_POST_PAGING_HEAD,(function(t,e){var n=e.listKey;if(!t.getState().post.paging.head[n])return T.default.get(t,"/api/v2/paging/GetHead",{listKey:n})})),ft=Object(v.b)(S.a.GET_POST_PAGING_PAGE,(function(t,e){var n=e.pageKey;if(!t.getState().post.paging.pageKey[n])return T.default.get(t,"/api/v2/paging/GetPage",{pageKey:n,enrich:!0},{throughCF:!0}).then((function(t){return Object(d.a)(Object(d.a)({},t),t.posts&&{items:t.posts})}))}));function st(t){var e=t.listKey;return function(){var t=Object(f.a)(c.a.mark((function t(n,r){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(m.i)(r(),{listKey:e}).loading){t.next=3;break}return t.abrupt("return");case 3:if(!(i=r().post.paging.nextKey[e])){t.next=7;break}return t.next=7,n(ft({pageKey:i}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function lt(t){var e=t.listKey;return function(){var t=Object(f.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(dt({listKey:e}));case 2:return t.next=4,n(st({listKey:e}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},GRbO:function(t,e,n){"use strict";e.a=function(t){return"string"===typeof t?"true"===t:!!t}},H5tw:function(t,e,n){"use strict";var r=n("zjfJ"),i=n("Czhu");e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.reduce((function(t,n){return Object.keys(n).reduce((function(t,a){return Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},n[a],e[a]))}),t)}),{})}},H87J:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},HAg6:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r,i=n("kdn0");!function(t){t.BackendServerDown="BackendServerDown",t.CreateIdentity="CreateIdentity",t.EmailInactivated="EmailInactivated",t.GenderSpecific="GenderSpecific",t.InsufficientPermission="InsufficientPermission",t.InsufficientScope="InsufficientScope",t.InvalidIdentity="InvalidIdentity",t.InvalidCsrfToken="InvalidCsrfToken",t.Loading="Loading",t.NidQueuing="NidQueuing",t.NotLogin="NotLogin",t.NsfwCrossPost="NsfwCrossPost",t.Suspension="Suspension",t.ValidatingIdentity="ValidatingIdentityConfirm",t.OrderFormAlert="OrderFormAlert"}(r||(r={}));var a=Object(i.d)({name:"delayModal",initialState:{stack:[]},reducers:{push:function(t,e){t.stack.push(e.payload)},clean:function(t){t.stack=[]}}})},IBsm:function(t,e,n){var r=n("e93E"),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},"J4/4":function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},LC3J:function(t,e,n){"use strict";var r=n("yDbQ"),i=n("Y+Ke"),a=n.n(i);e.a=Object(r.a)(a.a)},M0s1:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DRLc"),i=Object(r.a)()},MKtF:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return O})),n.d(e,"i",(function(){return g})),n.d(e,"h",(function(){return h})),n.d(e,"j",(function(){return m})),n.d(e,"g",(function(){return j})),n.d(e,"d",(function(){return y})),n.d(e,"c",(function(){return T})),n.d(e,"f",(function(){return S})),n.d(e,"e",(function(){return _}));var r=n("zjfJ"),i=n("Czhu"),a=n("CZlo"),o=n.n(a),c=n("odjl"),u=n.n(c),d=n("jq/l"),f=n.n(d),s=n("+l7i"),l=n("pu3o"),b=n("4IkF"),p="default";function v(t,e){return t.localeCompare(e)}function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return"object"===typeof t?Object(l.stringify)(t,{sort:v})||p:"".concat(t)||p}function g(t){return function(e){return e[t]}}function h(t){var e=g(t);return Object(s.createSelector)(e,(function(t,e){return e}),(function(t,e){return t.paginations[O(e)]||Object(b.c)()}))}var m=function(t,e,n){return h(e)(t,n)};function j(t){return Object(s.createSelector)(function(t){return Object(s.createSelector)(g(t),(function(t){return t.data}))}(t),function(t){return Object(s.createSelector)(h(t),(function(t){return t.index}))}(t),(function(t,e){return e.map((function(e){return t[e]}))}))}var y=function(t,e,n){return j(e)(t,n)},T=function(t,e){var n=e&&!(!e.after&&!e.before),r=(null===t||void 0===t?void 0:t.index.length)>0;return!n&&r},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=n.keyForLoadMore,c=void 0===a?"before":a,d=n.stateKey,s=n.paginationOptions,l=f()(e,o.a),b=m(t.getState(),d,s);return T(b,l)?Object(i.a)(Object(i.a)({},l),{},Object(r.a)({limit:3},"before"===c?"after":"before",u()(b.index))):l},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=n.stateKey,i=n.paginationOptions,a=f()(e,o.a),c=m(t.getState(),r,i);return T(c,a)?{forward:!0,updateNoMore:function(t){return t}}:{}}},Nfkc:function(t,e,n){"use strict";n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return T}));var r=n("VtSi"),i=n.n(r),a=n("QsI/"),o=n("HbGN"),c=n("zjfJ"),u=n("Czhu"),d=n("v7SH"),f=n("QcEf"),s=n("uDCT"),l=n("/Ot9"),b=n("2zbF"),p=n("Nf2R"),v=n("gYIZ"),O=Symbol("my-full-identities"),g=Symbol("my-identities"),h=Symbol("claim-freshmen"),m=Object(d.a)("identity/list",(function(t){return p.default.get(t,"/api/v2/advancedPermissions/v1/me/identities")}),{modifiers:[Object(f.a)(2e3,{keySelector:function(){return g}}),Object(s.a)((function(t){return Object(b.a)(t.getState())})),Object(s.a)((function(t){var e=Object(v.a)(t.getState(),"me");return!(null===e||void 0===e?void 0:e.loading)})),Object(s.a)((function(t,e){if(null===e||void 0===e?void 0:e.refresh)return null;var n=Object(v.a)(t.getState(),"me");return(null===n||void 0===n?void 0:n.fetched)?{me:n}:null}))],transform:function(t,e){return{me:{loading:!1,fetched:!0,identities:e.map((function(t){return Object(u.a)({canPost:!0,canComment:!0,canReact:!0},t)}))}}}}),j=Object(d.a)("identity/forums/list",(function(t,e){var n=e.forumAlias;return p.default.get(t,"/api/v2/advancedPermissions/v1/me/forums/".concat(n,"/identities"))}),{modifiers:[Object(f.a)(2e3,{keySelector:function(t,e){return e.forumAlias}}),Object(s.a)((function(t){return Object(b.a)(t.getState())})),Object(s.a)((function(t,e){var n=e.forumAlias,r=Object(v.a)(t.getState(),n);return!(null===r||void 0===r?void 0:r.loading)})),Object(s.a)((function(t,e){var n=e.forumAlias;if(e.refresh)return null;var r=Object(v.a)(t.getState(),n);return(null===r||void 0===r?void 0:r.fetched)?Object(c.a)({},n,r):null}))],transform:function(t,e,n){var r=n.forumAlias;return Object(c.a)({},r,{loading:!1,fetched:!0,identities:e.map((function(t){var e=t.canReaction,n=Object(o.a)(t,["canReaction"]);return Object(u.a)({canReact:e},n)}))})}}),y=Object(d.a)("identity/freshmen/claim",(function(t,e){return p.default.put(t,"/api/v2/me/freshman",e)}),{modifiers:[Object(f.a)(2e3,{keySelector:function(){return h}}),Object(s.a)((function(t){return Object(b.a)(t.getState())})),Object(s.a)((function(t){return Object(v.c)(t.getState())}))]}),T=Object(d.a)("identity/update",function(){var t=Object(a.a)(i.a.mark((function t(e){var n,r,a,o,c=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=n.forumAlias,a=n.refresh,o=void 0!==a&&a,t.prev=1,t.next=4,Promise.all([e.dispatch(Object(l.a)({refresh:o})),e.dispatch(m({refresh:o})),r&&e.dispatch(j({forumAlias:r,refresh:o}))]);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),{modifiers:[Object(f.a)(2e3,{keySelector:function(){return O}}),Object(s.a)((function(t){return Object(b.a)(t.getState())}))]})},O1Sc:function(t,e,n){var r=n("w2Tz"),i=n("y4bl"),a=n("xoyU");t.exports=function(t,e,n){for(var o=-1,c=e.length,u={};++o<c;){var d=e[o],f=r(t,d);n(f,d)&&i(u,a(d,t),f)}return u}},OekA:function(t,e){t.exports=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}},PaJF:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d}));var r=n("VtSi"),i=n.n(r),a=n("QsI/"),o=n("hcB2"),c=n("Nf2R"),u=Object(o.c)("haowuCampaign/get",function(){var t=Object(a.a)(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.postId,t.abrupt("return",c.default.get(e,"/haowuCampaign/v2/haowuService/posts/".concat(r,"/campaign")));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),d=Object(o.c)("haowuCampaign/coupon",function(){var t=Object(a.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.default.get(e,"/api/v2/coupons/campaign/".concat(n.campaignId)));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},QwI6:function(t,e,n){var r=n("O1Sc"),i=n("NW/2");t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},R3TX:function(t,e,n){var r=n("zWgn"),i=n("UAs9"),a=n("7Pat");t.exports=function(t,e){return a(i(t,e,r),t+"")}},R5u7:function(t,e){t.exports=function(){return!1}},RBiB:function(t,e,n){var r=n("0Ocv"),i=n("R5u7"),a=n("m2YG"),o=Math.ceil,c=Math.max;t.exports=function(t,e,n){e=(n?i(t,e,n):void 0===e)?1:c(a(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var d=0,f=0,s=Array(o(u/e));d<u;)s[f++]=r(t,d,d+=e);return s}},RNvQ:function(t,e,n){var r=n("tQYX"),i=n("ENE1"),a=n("nvU9"),o=Math.max,c=Math.min;t.exports=function(t,e,n){var u,d,f,s,l,b,p=0,v=!1,O=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=u,r=d;return u=d=void 0,p=e,s=t.apply(r,n)}function m(t){return p=t,l=setTimeout(y,e),v?h(t):s}function j(t){var n=t-b;return void 0===b||n>=e||n<0||O&&t-p>=f}function y(){var t=i();if(j(t))return T(t);l=setTimeout(y,function(t){var n=e-(t-b);return O?c(n,f-(t-p)):n}(t))}function T(t){return l=void 0,g&&u?h(t):(u=d=void 0,s)}function S(){var t=i(),n=j(t);if(u=arguments,d=this,b=t,n){if(void 0===l)return m(b);if(O)return clearTimeout(l),l=setTimeout(y,e),h(b)}return void 0===l&&(l=setTimeout(y,e)),s}return e=a(e)||0,r(n)&&(v=!!n.leading,f=(O="maxWait"in n)?o(a(n.maxWait)||0,e):f,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==l&&clearTimeout(l),p=0,u=b=d=l=void 0},S.flush=function(){return void 0===l?s:T(i())},S}},RpaF:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"q",(function(){return s})),n.d(e,"o",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return v})),n.d(e,"m",(function(){return O})),n.d(e,"n",(function(){return g})),n.d(e,"b",(function(){return h})),n.d(e,"l",(function(){return m})),n.d(e,"k",(function(){return j})),n.d(e,"j",(function(){return y})),n.d(e,"g",(function(){return T})),n.d(e,"p",(function(){return S})),n.d(e,"d",(function(){return I})),n.d(e,"c",(function(){return E})),n.d(e,"f",(function(){return x})),n.d(e,"e",(function(){return A}));var r,i=n("zjfJ"),a=n("Czhu"),o=n("//nZ"),c=n.n(o),u=n("omit"),d=n("2zbF"),f=n("fyRD");!function(t){t.default="default",t.anonymous="anonymous",t.nickname="nickname",t.host="host"}(r||(r={}));var s=function(t){return t.user.data},l=function(t){var e,n,r;return null!==(e=null===t||void 0===t||null===(n=t.user)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.scopes)&&void 0!==e?e:[]},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){if(!Object(d.a)(n))return!1;var r=l(n);return!!t.some((function(t){return r.includes(t)}))&&!e.some((function(t){return r.includes(t)}))}},p=b(["email:validated"]),v=b(["email:validated"],["identity:validated"]),O=(b(["identity:validated"],["intro:filled"]),b(["intro:filled"])),g=b(["identity:filled","edumail:filled","idcard:filled","alumni:filled","diploma:filled"],["identity:validated"]),h=b(["post:write"]),m=(b(["comment:write"]),b(["persona:write"])),j=b(["nidcard:validated"],["university:validated"]),y=b(["forum:write"]);function T(t){return t.app.data.ipCountry||"TW"}function S(t){return t.user.data.country||T(t)}var _=Object.keys(r);function I(t,e){return t===r.host?null===e||void 0===e?void 0:e.identityId:_.includes(t)?void 0:t}function E(t,e,n,o,d){var s,l=t.school,b=t.department,p=t.uid,v=t.nickname,O=t.gender,g=t.postAvatar,h=t.canUseSchool,m=arguments.length>5&&void 0!==arguments[5]&&arguments[5],j=!(m||!n)&&n.fullyAnonymous,y=null===e||void 0===e?void 0:e.some((function(t){return t.id===u.b.core}));return(null===o||void 0===o?void 0:o.currentMember)?Object(i.a)({},r.host,Object(a.a)(Object(a.a)({type:r.host,postAvatar:g,gender:O},o.withNickname&&{authorUid:o.department}),{},{displayName:Object(f.b)(Object(a.a)(Object(a.a)({},c()(o,["withNickname","school","department"])),{},{host:m,hidden:!1}))})):(null===d||void 0===d?void 0:d.host)?Object(i.a)({},r.host,Object(a.a)(Object(a.a)({type:r.host,postAvatar:g,gender:O},d.withNickname&&{authorUid:d.department}),{},{displayName:Object(f.b)(d)})):y&&!h?Object(a.a)(Object(a.a)({},(null===n||void 0===n?void 0:n.canUseNickname)&&v&&Object(i.a)({},r.nickname,{type:r.nickname,postAvatar:g,gender:O,withNickname:!0,authorUid:p,displayName:v})),j&&Object(i.a)({},r.anonymous,{type:r.anonymous,postAvatar:g,gender:O,displayName:"\u533f\u540d"})):y?Object(a.a)((s={},Object(i.a)(s,r.default,{type:r.default,postAvatar:g,gender:O,displayName:j?l:"".concat(l," ").concat(b)}),Object(i.a)(s,r.anonymous,{type:r.anonymous,postAvatar:g,gender:O,displayName:j?"\u533f\u540d":l}),s),(null===n||void 0===n?void 0:n.canUseNickname)&&v&&Object(i.a)({},r.nickname,{type:r.nickname,postAvatar:g,gender:O,withNickname:!0,authorUid:p,displayName:v})):(null===e||void 0===e?void 0:e.length)&&(null===e||void 0===e?void 0:e.reduce((function(t,e){return Object(a.a)(Object(a.a)({},t),{},Object(i.a)({},e.id,{type:e.id,displayName:e.name,gender:O}))}),{}))||{}}function x(t){return t&&t.currentMember?r.host:t&&t.withNickname?r.nickname:t&&t.anonymousDepartment?r.anonymous:r.default}function A(t){return t&&t.host?r.host:t&&t.withNickname?r.nickname:t&&t.anonymous?r.anonymous:r.default}},SU8Q:function(t,e){t.exports=function(t){return function(e){return t(e)}}},TRwF:function(t,e,n){"use strict";var r=n("yDbQ"),i=n("eXqt"),a=n.n(i);e.a=Object(r.a)(a.a)},"U2d/":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=n("MKtF"),i=Object(r.h)("recommendedPost"),a=Object(r.g)("recommendedPost")},U4wA:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return p}));var r=n("zjfJ"),i=n("HbGN"),a=n("hcB2"),o=n("1PvQ"),c=n("EHEA"),u=n("MKtF"),d=n("Nf2R"),f=Object(a.b)(o.a.LIST_DADAS_CAMPAIGN,(function(t,e){var n=e.refresh,r=Object(i.a)(e,["refresh"]),a=r.active,o=r.forumAlias,u=r.category,f=Object(c.b)(t.getState(),Object(c.d)());if(!(f.error||f.noMore||f.index.length)||n){var s=function(){var t="/giftbox/v2.1/campaigns";return a?"".concat(t,"/active"):t}();return d.default.get(t,s,{forum:o,category:u})}}),(function(t,e){return{key:Object(u.b)(Object(c.d)(e)),refresh:e&&e.refresh}})),s=Object(a.b)(o.a.GET_DADAS_CAMPAIGN_STATUS,(function(t,e){if(!Object(c.c)(t.getState(),e))return d.default.get(t,"/giftbox/v2.1/campaigns/status",{forum:e.forumAlias,category:e.category,time:e.time}).then((function(t){return Object(r.a)({},Object(u.b)(e),t)}))}),{requestOnIdle:!0}),l=Object(a.b)(o.a.GET_DADAS_SURVEY_TEAM,(function(t,e){var n=e.postId;if(!Object(c.f)(t.getState(),n))return d.default.get(t,"/giftbox/v2.1/posts/".concat(n,"/surveyTeam")).then((function(t){return Object(r.a)({},n,t)}))}));function b(t){return{type:o.d.UPDATE_SURVEY_TEAM_LAST_SEEN_TIME,payload:Object(r.a)({},t,Date.now())}}var p=Object(a.b)(o.a.SUBMIT_SURVEY_TEAM_REPLY,(function(t,e){var n=e.surveyId,r=Object(i.a)(e,["surveyId"]);return d.default.post(t,"/giftbox/v2.1/surveys/".concat(n,"/replySurveyTeam"),r)}),{toast:{failure:"\u63d0\u4ea4\u5931\u6557"}})},UAs9:function(t,e,n){var r=n("zaNA"),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var a=arguments,o=-1,c=i(a.length-e,0),u=Array(c);++o<c;)u[o]=a[e+o];o=-1;for(var d=Array(e+1);++o<e;)d[o]=a[o];return d[e]=n(u),r(t,this,d)}}},"Y+Ke":function(t,e){var n='<svg viewBox="0 0 28 28"><path d="M22.9 21.2l-4.5-4.5A7.5 7.5 0 1017 18l4.5 4.5a.5.5 0 00.8 0l.5-.5a.5.5 0 000-.8zm-10.4-3.5a5.6 5.6 0 115.6-5.6 5.6 5.6 0 01-5.6 5.6z"/></svg>';t.exports=n,e.default=n},"YF1/":function(t,e,n){var r,i,a=n("fjNU"),o=n("X/SR"),c=0,u=0;t.exports=function(t,e,n){var d=e&&n||0,f=e||[],s=(t=t||{}).node||r,l=void 0!==t.clockseq?t.clockseq:i;if(null==s||null==l){var b=a();null==s&&(s=r=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),null==l&&(l=i=16383&(b[6]<<8|b[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,O=p-c+(v-u)/1e4;if(O<0&&void 0===t.clockseq&&(l=l+1&16383),(O<0||p>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=v,i=l;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;f[d++]=g>>>24&255,f[d++]=g>>>16&255,f[d++]=g>>>8&255,f[d++]=255&g;var h=p/4294967296*1e4&268435455;f[d++]=h>>>8&255,f[d++]=255&h,f[d++]=h>>>24&15|16,f[d++]=h>>>16&255,f[d++]=l>>>8|128,f[d++]=255&l;for(var m=0;m<6;++m)f[d+m]=s[m];return e||o(f)}},YpBQ:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},YxxV:function(t,e,n){"use strict";e.a={common:{primary:"#006aa6",active:"#3397cf",danger:"#ea5c5c",warning:"#efad1d",success:"#49bd69",purple:"#BF8FF0",white:"#fff",black:"#000",disabled:"#dfdfdf",bodyBg:"#00324e",containerBg:"#fff",containerSecondaryBg:"#f5f5f5",containerMediumBg:"#efefef",hoverContainerBg:"#efefef",hoverWhenDarkBg:"rgba(0, 0, 0, 0.2)",whiteBg:"#fff",overlayBg:"rgba(0, 0, 0, 0.5)",overlayDarkBg:"rgba(0, 0, 0, 0.85)",tooltipBg:"rgb(30, 30, 30)",onboardingBg:"#17455e",dropdownMenuBg:"#fff",dropdownMenuHoverBg:"#f2f3f4",tagBg:"#efefef",tagDarkBg:"#a3a3a3",avatarMaleBg:"#006ea5",avatarFemaleBg:"#cb3a6b",iconFillDefault:"#e1e1e1",iconFillMedium:"#c4c4c4",iconFillMediumDark:"#a8a8a8",iconFillDark:"#595959",iconFillSuperDark:"#323232",buttonDefaultHoverBg:"#efefef",fixedBarBg:"rgb(250, 250, 250)",forumSubscribedBg:"#f2f2f2",lightActiveBg:"rgb(231, 245, 253)",tutorialBg:"rgba(0, 50, 78, 0.9)",placeholderBg:"#f2f3f4",textSuperLight:"rgba(0, 0, 0, .15)",textSemiSuperLight:"rgba(0, 0, 0, .2)",textLightMedium:"rgba(0, 0, 0, .45)",textMedium:"rgba(0, 0, 0, .6)",textDark:"rgba(0, 0, 0, .95)",textDarkLight:"rgba(0, 0, 0, .8)",text:"rgba(0, 0, 0, .85)",textDarkMediumLight:"rgba(0, 0, 0, 0.75)",textLight:"rgba(0, 0, 0, .35)",textWhite:"#fff",textWhiteSuperLight:"rgba(255, 255, 255, 0.9)",textWhiteLight:"rgba(255, 255, 255, 0.8)",textWhiteLightMedium:"rgba(255, 255, 255, 0.75)",textWhiteMedium:"rgba(255, 255, 255, 0.6)",textLightGray:"rgba(255, 255, 255, 0.35)",inputPlaceholder:"#c1c2c5",photoUploaderBg:"rgba(0, 0, 0, 0.05)",borderWhiteTransparent1:"rgba(255, 255, 255, 0.1)",borderWhiteTransparent2:"rgba(255, 255, 255, 0.2)",borderWhiteTransparent3:"rgba(255, 255, 255, 0.3)",borderWhiteHeavyMedium:"rgb(217, 217, 217)",borderWhiteMedium:"rgb(222, 222, 222)",borderWhiteLight:"rgb(233, 233, 233)",borderWhiteSuperLight:"rgb(239, 239, 239)",borderBlackTransparent5:"rgba(0, 0, 0, 0.05)",borderBlackTransparent8:"rgba(0, 0, 0, 0.08)",borderBlackTransparent10:"rgba(0, 0, 0, 0.1)",borderBlackTransparent15:"rgba(0, 0, 0, 0.15)",borderBlackTransparent25:"rgba(0, 0, 0, 0.25)",buttonBorder:"#c1c2c5",loadingBg:"#f2f3f4",loadingHighlightBg:"#FAFBFC",ecLoadingBg:"#f2f3f4",ecLoadingHighlightBg:"#FAFBFC",separator:"#dfdfdf",dcardPostLinkShadow:"0 1px 2px #ddd",dialogShadow:"rgba(0, 0, 0, 0.05) 0px 4px 4px 0px, rgba(0, 0, 0, 0.15) 0px 0px 4px 0px",topDarkShadow:"0 -2px 24px 0 rgba(0, 0, 0, 0.1)",bottomDarkShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",toastShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",buttonInsetLightShadow:"inset 0 1px 2px 0 rgba(0, 0, 0, 0.3)",buttonInsetShadow:"inset 0 2px 2px 0 rgba(0, 0, 0, 0.3)",moderatorEntranceShadow:"0 2px 10px 0 rgba(0, 0, 0, 0.1)",notificationShadow:"0 1px 0 0 #f2f2f2",unreadNotificationShadow:"0 1px 0 0 rgba(242, 242, 242, 0.5)",postListWidgetShadow:"rgba(0, 0, 0, 0.08) 0px 0px 12px",featuredPostCardShadow:"0 0 10px 0 rgba(0, 0, 0, 0.08)",recommendedForumCardShadow:"0 3px 12px rgba(0, 0, 0, 0.08)",webviewContentShadow:"0 1px 0 0 rgba(0, 0, 0, 0.1)",switchCircleShadow:"0px 1px 3px 0 rgba(0, 0, 0, 0.3)",cardBoxShadow:"0px 3px 12px rgba(0, 0, 0, 0.08)",defaultHoveredCardShadow:"0px 6px 24px rgba(0, 0, 0, 0.12)",buttomBannerShadow:"0px -3px 12px rgba(0, 0, 0, 0.08)",facebookPrimary:"#425f9c",searchInputBg:"#00588a",forumSubscribeBg:"#f6f6f6",forumSubscribeText:"#c1c2c5",goodPrimaryColor:"#f0b941",goodSecondaryColor:"#a6a6a6",suspiciousIconColor:"#f8b048",mainDefault:"#006aa6",mainDark:"#00324e",mainLight:"#3397cf",brandSponsor:"#f0b941",brandFacebook:"#4266b2",genderFemale:"#cb3a6b",genderMale:"#2490bf",genderOther:"#37474f",stateSuccess:"#49bd69",stateWarning:"#f0a955",stateError:"#ea5c5c",maskPopover:"rgba(0, 8, 16, 0.4)",maskImage:"rgba(0, 0, 0, 0.02)",uiForeground1:"#fff",uiForeground2:"#fafbfc",uiBackground:"#f2f3f4",uiGray:"#a6a6a6",uiSeparator:"rgba(0, 0, 0, 0.15)",uiField:"rgba(0, 16, 32, 0.06)",newTextDark:"rgba(0, 0, 0, 1)",newTextSemiDark:"rgba(0, 0, 0, 0.75)",textDefault:"rgba(0, 0, 0, 0.5)",newTextSemiLight:"rgba(0, 0, 0, 0.35)",newTextLight:"rgba(0, 0, 0, 0.2)",newTextWhite:"rgba(255, 255, 255, 1)",newTextSemiWhite:"rgba(255, 255, 255, 0.75)",newTextSemiLightWhite:"rgba(255, 255, 255, 0.35)",mainLightHovered:"#5ab0db",dangerHovered:"#f78c88",goodPrimaryColorHovered:"#fcd46d",uiFieldHovered:"rgba(7, 28, 46, 0.06)",activeHovered:"#5ab0db",textDefaultHovered:"rgba(13, 13, 13, 0.5)"},desktop:{floatingBottomBannerBg:"rgba(36, 40, 45, 0.95)"},mobile:{bodyBg:"#F2F3F4",containerBg:"#fff",containerSecondaryBg:"#fff",uiSeparator:"rgba(0, 0, 0, 0.15)",searchInputBg:"#fff",unreadNotificationBg:"rgba(51, 151, 207, 0.05)",floatingBottomBannerBg:"#fff"}}},ZL1z:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("HbGN"),i=n("Czhu"),a=n("hcB2"),o=n("mahJ"),c=n("Nf2R"),u=n("uDCT"),d=n("7tFQ"),f=Object(a.c)("searchKeyword/list",(function(t,e){return c.default.get(t,"/api/v2/search/keywords",Object(i.a)(Object(i.a)(Object(i.a)({forum:e.forum},e.limit&&{limit:e.limit}),e.before&&{before:e.before}),e.after&&{after:e.after}))}),{modifiers:[Object(u.a)((function(t,e){var n=e.refresh,i=e.before,a=e.after,c=Object(r.a)(e,["refresh","before","after"]);if(n||i||a)return!0;var u=Object(o.b)(c),d=Object(o.d)(t.getState(),u);return!d||d.loading})),Object(d.a)()]})},bFjY:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},c72w:function(t,e,n){var r=n("wC3K"),i=n("pPzx"),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var o=t[e];a.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}},cH1A:function(t,e){t.exports=function(t){return t}},d019:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"!==typeof e[e.length-1]&&e.pop(),i=e;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(t,e){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var c="undefined"===typeof t,u="undefined"===typeof e;return c&&u&&r?r:i.reduce((function(t,n){return n.apply(void 0,[t,e].concat(a))}),c&&!u&&r?r:t)}},i=n("I9iR"),a=n.n(i),o=function(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},c=function(t){return"undefined"!==typeof Map&&t instanceof Map};function u(t){if(c(t))return Array.from(t.keys());if("undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys)return Reflect.ownKeys(t);var e=Object.getOwnPropertyNames(t);return"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e}function d(t,e){return c(e)?e.get(t):e[t]}var f,s=(f=function(t){return(o(t)||c(t))&&!function(t){var e=u(t),n=e.every((function(t){return"next"===t||"throw"===t}));return e.length&&e.length<=2&&n}(t)},function t(e,n,r,i){var a=void 0===n?{}:n,o=a.namespace,c=void 0===o?"/":o,s=a.prefix;return void 0===r&&(r={}),void 0===i&&(i=""),u(e).forEach((function(n){var a=function(t){return i||!s||s&&new RegExp("^"+s+c).test(t)?t:""+s+c+t}(function(t){var e;if(!i)return t;var n=t.toString().split("||"),r=i.split("||");return(e=[]).concat.apply(e,r.map((function(t){return n.map((function(e){return""+t+c+e}))}))).join("||")}(n)),o=d(n,e);f(o)?t(o,{namespace:c,prefix:s},r,a):r[a]=o})),r}),l=n("Quen"),b=n("l5ML"),p=function(t){return t.toString()};function v(t,e,n){void 0===n&&(n={}),a()(o(t)||c(t),"Expected handlers to be a plain object.");var i=s(t,n),f=u(i).map((function(t){return function(t,e,n){void 0===e&&(e=b.a);var r=p(t).split("||");a()(!(void 0===n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),a()(Object(l.a)(e)||o(e),"Expected reducer to be a function or object with next and throw reducers");var i=Object(l.a)(e)?[e,e]:[e.next,e.throw].map((function(t){return null===(e=t)||void 0===e?b.a:t;var e})),c=i[0],u=i[1];return function(t,e){void 0===t&&(t=n);var i=e.type;return i&&-1!==r.indexOf(p(i))?(!0===e.error?u:c)(t,e):t}}(t,d(t,i),e)})),v=r.apply(void 0,f.concat([e]));return function(t,n){return void 0===t&&(t=e),v(t,n)}}},dRmo:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e,n;return Object.values(null!==(e=null===t||void 0===t||null===(n=t.reaction)||void 0===n?void 0:n.data)&&void 0!==e?e:{}).find((function(t){return"\u611b\u5fc3"===t.name}))}},"dnX/":function(t,e,n){var r=n("a88S");t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,a=t===t,o=r(t),c=void 0!==e,u=null===e,d=e===e,f=r(e);if(!u&&!f&&!o&&t>e||o&&c&&d&&!u&&!f||i&&c&&d||!n&&d||!a)return 1;if(!i&&!o&&!f&&t<e||f&&n&&a&&!i&&!o||u&&n&&a||!c&&a||!d)return-1}return 0}},dpio:function(t,e){t.exports=function(t,e,n,r){for(var i=-1,a=null==t?0:t.length;++i<a;){var o=t[i];e(r,o,n(o),t)}return r}},e93E:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("fRV1"))},eHpp:function(t,e,n){var r=n("H87J"),i=n("S3pA"),a=n("bFjY"),o=n("4jPf"),c=n("SU8Q"),u=n("5WP5"),d=n("zWgn");t.exports=function(t,e,n){var f=-1;e=r(e.length?e:[d],c(i));var s=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++f,value:t}}));return o(s,(function(t,e){return u(t,e,n)}))}},eIKj:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("+l7i"),i=Object(r.createSelector)((function(t){return t.sudo.token}),(function(t){return t.sudo.expiry}),(function(t,e){if(t&&!(e&&Date.now()>new Date(e).getTime()))return t}))},eXqt:function(t,e){var n='<svg viewBox="0 0 18 18"><path d="M16.8 9a7.5 7.5 0 01-7.5 7.5A7.5 7.5 0 011.8 9a7.5 7.5 0 017.5-7.5A7.5 7.5 0 0116.8 9zm-6.44 0l2.47-2.47a.75.75 0 000-1.06.75.75 0 00-1.06 0L9.3 7.94 6.83 5.47a.75.75 0 00-1.06 0 .75.75 0 000 1.06L8.24 9l-2.47 2.47a.75.75 0 000 1.06.75.75 0 00.53.22.75.75 0 00.53-.22l2.47-2.47 2.47 2.47a.75.75 0 00.53.22.75.75 0 00.53-.22.75.75 0 000-1.06z"/></svg>';t.exports=n,e.default=n},f9bD:function(t,e,n){var r=n("H87J"),i=n("S3pA"),a=n("O1Sc"),o=n("zF5n");t.exports=function(t,e){if(null==t)return{};var n=r(o(t),(function(t){return[t]}));return e=i(e),a(t,n,(function(t,n){return e(t,n[0])}))}},fN3Q:function(t,e,n){var r=n("YF1/"),i=n("IC1n"),a=i;a.v1=r,a.v4=i,t.exports=a},fyRD:function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var r=n("zjfJ"),i=n("Czhu"),a=n("d019"),o=n("9EWH"),c=n("4IkF"),u=n("9w6I"),d=n("1ZvU"),f=n("1PvQ"),s=function(t){if(t.hidden)return t.host?"\u9019\u5247\u56de\u61c9\u5df2\u88ab\u672c\u4eba\u522a\u9664":"\u9019\u5247\u56de\u61c9\u5df2\u88ab\u522a\u9664";var e=t.withNickname?t.school:t.school||t.department?"".concat(t.school).concat(t.department?" ".concat(t.department):""):"";return t.host&&e?"\u539fPO - ".concat(e):!t.host&&e?e:"\u539fPO"},l=function(t){return t.inReview?"\u611f\u8b1d\u4f60\u7684\u5354\u52a9\uff01\u6211\u5011\u5df2\u6536\u5230\u6aa2\u8209\uff0c\u5c07\u9032\u884c\u5be9\u67e5\u3002":t.reportReasonText?"\u9019\u5247\u56de\u61c9\u5df2\u88ab Dcard \u7528\u6236\u6aa2\u8209\u542b\u300c".concat(t.reportReasonText," \u300d\u7684\u5167\u5bb9\u3002"):t.hidden?"\u5df2\u7d93\u522a\u9664\u7684\u5167\u5bb9\u5c31\u50cf Dcard \u4e00\u6a23\uff0c\u932f\u904e\u662f\u7121\u6cd5\u518d\u76f8\u898b\u7684\uff01":t.content};e.a=Object(a.a)(Object(i.a)(Object(i.a)({},Object(c.b)({list:[f.a.LIST_COMMENT],update:[f.a.GET_COMMENT,f.a.CREATE_COMMENT,f.a.UPDATE_COMMENT,f.a.DESTROY_COMMENT]},{getPkKey:u.f,transform:function(t){return Object(i.a)(Object(i.a)({},t),{},{authorName:s(t),authorUid:t.withNickname&&t.department||"",content:l(t),timeString:Object(d.b)(t.createdAt,{full:!0})})}})),{},Object(r.a)({},f.a.LIKE_COMMENT.SUCCESS,(function(t,e){var n=e.meta;return Object(o.a)(t,(function(t){var e,r,i=null!==(e=null===n||void 0===n||null===(r=n.requestArg)||void 0===r?void 0:r.comment)&&void 0!==e?e:{},a=Object(u.f)(i);if(t.data[a].liked)return t.data[a].liked=!1,void(t.data[a].likeCount-=1);t.data[a].liked=!0,t.data[a].likeCount+=1}))}))),Object(i.a)({},Object(c.a)()))},gYIZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("omit"),i=function(t,e){return t.identity.data[e]};function a(t,e,n){var r,a;return null===(r=i(t,e))||void 0===r||null===(a=r.identities)||void 0===a?void 0:a.filter((function(t){return t[n]}))}var o=function(t){var e,n,r=i(t,"me");return 0===(null!==(e=null===r||void 0===r||null===(n=r.identities)||void 0===n?void 0:n.length)&&void 0!==e?e:0)},c=function(t,e){var n,r=i(t,"me");return!!(null===r||void 0===r||null===(n=r.identities)||void 0===n?void 0:n.find((function(t){return t.id===e})))},u=function(t){return c(t,r.b.core)}},h1LJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=/https?:\/\/(?:i\.)?imgur\.(?:dcard\.)?(?:com|tw)\/(\w+)\.(\w+)/g,i=/^https?:\/\/(?:i\.)?imgur\.(?:dcard\.)?(?:com|tw)\/(\w+)\.(\w+)/,a=function(t,e){return function(n,r,i){return t&&("gif"!==i||e)?"".concat("https://imgur.dcard.tw","/").concat(r.length%2===0?r.substring(0,r.length-1):r).concat(t,".").concat(i):"".concat("https://imgur.dcard.tw","/").concat(r,".").concat(i)}};function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.global,o=e.size,c=e.resizeGif,u=n?r:i;return t.replace(u,a(o,c))}},"jq/l":function(t,e,n){var r=n("S3pA"),i=n("J4/4"),a=n("f9bD");t.exports=function(t,e){return a(t,i(r(e)))}},"kWB/":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return d}));var r,i=n("Czhu"),a=n("zjfJ"),o=n("j/s1"),c=n("mZcL"),u={desktop:{bezier:"cubic-bezier(.4, 0, .2, 1)",modalDuration:c.i,shortDuration:"".concat(c.i/1e3,"s"),mediumDuration:"0.3s",keyframes:{rotate360:Object(o.f)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"])}},mobile:{bezier:"cubic-bezier(.4, 0, .2, 1)",modalDuration:c.i,shortDuration:"".concat(c.i/1e3,"s"),mediumDuration:"0.3s",keyframes:{rotate360:Object(o.f)(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"])}}};!function(t){t.primary="#006aa6",t.active="#3397cf",t.danger="#ea5c5c",t.warning="#efad1d",t.success="#45bd67"}(r||(r={}));var d,f=function(t){return function(){return Object(o.d)(["@media (max-width:","px){",";}"],t,o.d.apply(void 0,arguments))}},s={mobileS:f(320),mobileM:f(375),mobileL:f(425),tablet:f(768),laptop:f(1024),laptopL:f(1440),desktop:f(2560)},l="\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n",b=function(t){return"\n  overflow: hidden;\n  display: -webkit-box;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: ".concat(t,";\n  -webkit-box-orient: vertical;\n")},p="\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n",v={desktop:{scrollBar:"\n      ::-webkit-scrollbar {\n        width: 6px;\n        height: 6px;\n      }\n\n      ::-webkit-scrollbar-track {\n        &:hover {\n          background: rgba(0, 0, 0, 0.3);\n        }\n      }\n\n      ::-webkit-scrollbar-thumb {\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 100vh;\n      }\n    ",redDotPosition:"\n      top: 0;\n      right: 0;\n      transform: translate3d(calc(50% - 1px), calc(-50% + 1px), 0);\n    ",ellipsis:l,multiEllipsis:b,coverImage:p},mobile:{ellipsis:l,multiEllipsis:b,coverImage:p}},O={headline1:"\n      font-weight: 500;\n      font-size: 32px;\n      line-height: 45px;\n    ",headline2:"\n      font-weight: 500;\n      font-size: 28px;\n      line-height: 40px;\n    ",headline3:"\n      font-weight: 500;\n      font-size: 24px;\n      line-height: 33px;\n    ",title:"\n      font-weight: 600;\n      font-size: 18px;\n      line-height: 25px;\n    ",subtitle1:"\n      font-weight: 500;\n      font-size: 16px;\n      line-height: 22px;\n    ",body1:"\n      font-weight: 400;\n      font-size: 16px;\n      line-height: 22px;\n    ",subtitle2:"\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 20px;\n    ",body2:"\n      font-weight: 400;\n      font-size: 14px;\n      line-height: 20px;\n    ",caption:"\n      font-weight: 500;\n      font-size: 12px;\n      line-height: 17px;\n    "},g={headline1:"\n      font-weight: 500;\n      font-size: 30px;\n      line-height: 42px;\n    ",headline2:"\n      font-weight: 500;\n      font-size: 24px;\n      line-height: 33px;\n    ",headline3:"\n      font-weight: 600;\n      font-size: 20px;\n      line-height: 28px;\n    ",title:"\n      font-weight: 600;\n      font-size: 18px;\n      line-height: 25px;\n    ",subtitle1:"\n      font-weight: 500;\n      font-size: 16px;\n      line-height: 22px;\n    ",body1:"\n      font-weight: 400;\n      font-size: 16px;\n      line-height: 22px;\n    ",subtitle2:"\n      font-weight: 500;\n      font-size: 14px;\n      line-height: 20px;\n    ",body2:"\n      font-weight: 400;\n      font-size: 14px;\n      line-height: 20px;\n    ",caption:"\n      font-weight: 500;\n      font-size: 12px;\n      line-height: 17px;\n    "},h=n("YxxV");!function(t){t[t.Dcard=0]="Dcard"}(d||(d={}));var m=Object(a.a)({},d.Dcard,h.a),j={desktop:Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},u.desktop),v.desktop),s),{HEADER_HEIGHT:48,HEADER_PADDING:20,HEADER_BUTTON_WIDTH:60,MAX_PAGE_WIDTH:1280,MIN_POST_LIST_SECTION_WIDTH:728,FORUM_SECTIONS_GAP:12,FORUM_LIST_SECTION_WIDTH:208,FORUM_ASIDE_SECTION_WIDTH:300,FORUM_ASIDE_SECTION_GAP:10,FORUM_CARD_WIDTH:146,FORUM_CARD_HEIGHT:110,FORUM_HERO_IMAGE_HEIGHT:243,POST_ENTRY_PADDING:20,POST_ENTRY_THUMBNAIL_SIZE:84,POST_ENTRY_CROSS_POST_THUMBNAIL_SIZE:66,POST_LIST_HEADER_PADDING_TOP:20,POST_LIST_HEADER_HEIGHT:60,POST_LIST_SECTION_HORIZONTAL_MARGIN:40,POST_LIST_SECTION_HORIZONTAL_PADDING:20,POST_LIST_SECTION_VERTICAL_PADDING:20,POST_LIST_SECTION_TIGHT_HORIZONTAL_PADDING:14,POST_LIST_TABS_HEIGHT:60,POST_VIEW_HORIZONTAL_PADDING:60,POST_VIEW_VERTICAL_PADDING:20,POST_VIEW_GAP:0,POST_BAR_HEIGHT:48,POST_MODAL_WIDTH:728,POST_EDITOR_MAX_WIDTH:680,POST_EDITOR_FOOTER_HEIGHT:68,FEATURED_POST_CELL_HEIGHT:192,FEATURED_POST_CELL_PADDING:40,FEATURED_POST_CELL_TITLE_PADDING:20,FEATURED_POST_CARD_WIDTH:406,FEATURED_POST_CARD_HEIGHT:124,FEATURED_POST_CARD_PADDING:20,RECOMMENDED_POSTS_THUMBNAIL_SIZE:40,OP_HAWKEYE_WIDGET_THUMBNAIL_SIZE:77,COMMENT_MODAL_WIDTH:720,COMMENT_EDITOR_HEIGHT:240,COMMENT_EDITOR_HEADER_HEIGHT:64,COMMENT_EDITOR_FOOTER_HEIGHT:52,TOPIC_LIST_HEIGHT:60,TOPIC_GAP:8,DIALOG_PADDING:24,CONFIRM_PADDING:40,TOAST_WIDTH:250,SNACKBAR_WIDTH:343,SNACKBAR_BOTTOM:30,MODAL_BOTTOM_SHIM:0,MENU_WIDTH:160,MY_PAGE_CONTENT_WIDTH:760,MY_PAGE_FOOTER_HEIGHT:56,TABVIEW_HEADER_HEIGHT:48,MESSAGE_LIST_MAX_WIDTH:700,MESSAGE_LIST_HORIZONTAL_PADDING:30,MAX_POST_MEDIA_VH:60,COUPON_CARD_HEIGHT:82,COUPON_CARD_WIDTH:300,MODERATOR_LAYOUT_PADDING:40,EC_ENTRY_ONSALE_IMAGE_SIZE:243,EC_ENTRY_WIDGET_SPACING:60,MY_PAGE_SIDER_WIDTH:208,MY_PAGE_CONTENT_TITLE_HEIGHT:60,DOWNLOAD_APP_BANNER_HEIGHT:0}),O),mobile:Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},u.mobile),v.mobile),s),{HEADER_HEIGHT:48,HEADER_PADDING:0,HEADER_BUTTON_WIDTH:48,FORUM_SECTIONS_GAP:0,FORUM_INFO_VERTICAL_PADDING:12,FORUM_INFO_HORIZONTAL_PADDING:16,FORUM_CARD_WIDTH:130,FORUM_CARD_HEIGHT:98,POST_ENTRY_PADDING:16,POST_ENTRY_THUMBNAIL_SIZE:72,POST_ENTRY_CROSS_POST_THUMBNAIL_SIZE:64,POST_LIST_HEADER_HEIGHT:72,POST_LIST_SECTION_HORIZONTAL_MARGIN:0,POST_LIST_SECTION_HORIZONTAL_PADDING:16,POST_LIST_SECTION_VERTICAL_PADDING:0,POST_LIST_SECTION_TIGHT_HORIZONTAL_PADDING:14,POST_LIST_TABS_HEIGHT:44,POST_VIEW_HORIZONTAL_PADDING:16,POST_VIEW_VERTICAL_PADDING:12,POST_VIEW_GAP:8,POST_BAR_HEIGHT:50,FEATURED_POST_CELL_HEIGHT:152,FEATURED_POST_CELL_PADDING:16,FEATURED_POST_CARD_WIDTH:308,FEATURED_POST_CARD_HEIGHT:94,FEATURED_POST_CARD_PADDING:12,RECOMMENDED_POSTS_THUMBNAIL_SIZE:62,OP_HAWKEYE_WIDGET_THUMBNAIL_SIZE:44,TOPIC_LIST_HEIGHT:64,TOPIC_GAP:16,DIALOG_PADDING:24,CONFIRM_PADDING:24,TOAST_WIDTH:250,TOAST_BOTTOM:33,SNACKBAR_WIDTH:0,SNACKBAR_BOTTOM:30,MODAL_BOTTOM_SHIM:60,MENU_WIDTH:160,COUPON_CARD_HEIGHT:82,COUPON_CARD_WIDTH:290,COMMENT_EDITOR_HEIGHT:240,EC_ENTRY_ONSALE_IMAGE_SIZE:154,EC_ENTRY_WIDGET_SPACING:40,MY_PAGE_CONTENT_TITLE_HEIGHT:48,DOWNLOAD_APP_BANNER_HEIGHT:76}),g)},y=Object(i.a)(Object(i.a)({},j),{},{colors:m});e.c=y},m2YG:function(t,e){t.exports=function(t){return t}},mahJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f}));var r=n("+l7i"),i=n("qadl").a.getSelectors((function(t){return t.searchKeyword})),a=i.selectPagination,o=i.selectByPagination;function c(t){return t.forum}var u=a,d=o,f=Object(r.createSelector)(d,(function(t){return t[0]}))},nvU9:function(t,e){t.exports=function(t){return t}},odjl:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},omit:function(t,e,n){"use strict";var r,i;n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),function(t){t.canPost="canPost",t.canComment="canComment",t.canReact="canReact"}(r||(r={})),function(t){t.freshman="7b0f6e48-039a-4d16-bf86-1476b20552d2",t.student="c00cbcf8-a956-4a31-8b6d-b07c0eef3ec7",t.core="a8d9f1c2-59c7-482e-97c7-9cc5d0232a7f"}(i||(i={}));var a=["freshman","hkfreshmen"]},qadl:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("Czhu"),i=n("DRLc"),a=n("pu3o"),o=Object(i.a)({transform:function(t){return Object(r.a)(Object(r.a)({},t),{},{url:"/search?".concat(Object(a.stringify)({query:t.name}))})}})},rQZJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n("cxan"),i=n("Czhu"),a=n("ERkP"),o=n.n(a),c=n("pu3o"),u=n("j/s1"),d=n("hzn3"),f=n("uDfI"),s=n("pcOi"),l=n("9e7o"),b=n("mOs8"),p=n("kdb8"),v=n("LC3J"),O=n("TRwF"),g=n("2UOY"),h=n("ZL1z"),m=n("mahJ"),j=n("2zbF"),y=o.a.createElement,T=Object(u.d)(["",""],(function(t){return t.theme.isMobile?6:4})),S=Object(u.d)(["border:solid 1px ",";"],(function(t){return t.theme.uiSeparator})),_=u.e.div.withConfig({componentId:"dj0ioy-0"})(["display:flex;width:100%;form{display:flex;background:",";border-radius:","px;overflow:hidden;width:100%;","}"],(function(t){return t.theme.searchInputBg}),T,(function(t){return t.theme.isMobile&&S})),I=u.e.button.withConfig({componentId:"dj0ioy-1"})(["position:relative;top:50%;transform:translate(-50%,-50%);height:","px;width:","px;background:transparent;border:0;padding:0;outline:none;&::focus{outline:none;}","{width:","px;height:","px;fill:",";}"],(function(t){return t.theme.isMobile?18:14}),(function(t){return t.theme.isMobile?18:14}),p.a,(function(t){return t.theme.isMobile?18:14}),(function(t){return t.theme.isMobile?18:14}),(function(t){return t.theme.isMobile?"rgba(0,0,0,0.35)":"rgba(255,255,255,0.35)"})),E=Object(u.d)(["&::-webkit-search-cancel-button{display:none;}"]),x=Object(u.e)(g.a).withConfig({componentId:"dj0ioy-2"})(["flex:1;border:none;background:none;height:100%;padding:0 ","px;font-size:","px;color:",";",";&::placeholder{color:",";}"],(function(t){return t.theme.isMobile?6:10}),(function(t){return t.theme.isMobile?16:14}),(function(t){return!t.theme.isMobile&&t.theme.textWhite}),E,(function(t){return!t.theme.isMobile&&t.theme.newTextSemiWhite})),A=u.e.button.withConfig({componentId:"dj0ioy-3"})(["background:",";border:1px solid ",";display:flex;align-items:center;border-radius:0 ","px ","px 0;padding:0 9px;cursor:pointer;outline:none;"],(function(t){return t.theme.primary}),(function(t){return t.theme.searchInputBg}),T,T),P=u.e.div.withConfig({componentId:"dj0ioy-4"})(["padding-left:6px;display:flex;align-items:center;"]),D=u.e.div.withConfig({componentId:"dj0ioy-5"})(["display:flex;align-items:center;justify-content:center;padding-left:12px;color:",";font-size:16px;font-weight:500;width:50px;"],(function(t){return t.theme.textDefault})),w=Object(u.e)(v.a).attrs((function(t){return{size:24,fill:t.theme.inputPlaceholder}})).withConfig({componentId:"dj0ioy-6"})(["padding:0 2px;"]),C=Object(u.e)(v.a).attrs((function(t){return{size:20,fill:t.theme.textWhite}})).withConfig({componentId:"dj0ioy-7"})([""]);function N(){var t=Object(f.d)(),e=Object(s.a)(),n=Object(l.a)(j.b),o=Object(a.useMemo)((function(){return{forum:e.query.forum||"all"}}),[e.query.forum]),u=Object(l.a)((function(t){return Object(m.a)(t,Object(m.b)(o))})),p=Object(a.useRef)(null),v=u?"\u641c\u5c0b ".concat(u.name):"\u641c\u5c0b";return Object(a.useEffect)((function(){n||t(Object(h.a)(o))}),[t,n,o]),y(_,null,y(b.a,{initialValues:{query:e.query.query},validates:{query:[function(t){if(!t&&!u)return"\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b"}]},onSubmit:function(t){var n,r=e.query.forum||e.query.forumAlias,a="/search"===e.pathname,o=null!==(n=t.query)&&void 0!==n?n:a?"":null===u||void 0===u?void 0:u.name,d=Object(c.stringify)(Object(i.a)(Object(i.a)({},o&&{query:o}),r&&"all"!==r&&{forum:r})),f=e.pathname.startsWith("/search")?e.pathname:"/search";e.pushRoute("".concat(f).concat(d?"?".concat(d):""))}},(function(t){var e,i=t.invalid,a=t.handleSubmit,o=t.form,c=null===(e=o.getFieldState("query"))||void 0===e?void 0:e.value;return y("form",{onSubmit:a},n&&y(P,null,y(w,null)),y(d.a,{name:"query"},(function(t){var e=t.input;return y(x,Object(r.a)({ref:p,type:"search",placeholder:v,showError:!1,"aria-label":v},e))})),c&&y(I,{type:"reset",onClick:function(){var t;o.reset({query:""}),null===(t=p.current)||void 0===t||t.focus()}},y(O.a,null)),!n&&y(A,{type:"submit",title:"\u641c\u5c0b",disabled:i},y(C,null)))})),n&&y(D,{onClick:function(){e.pushRoute("/search")}},"\u53d6\u6d88"))}},taLD:function(t,e,n){var r=n("wC3K"),i=n("8uyH")((function(t,e,n){r(t,n,e)}));t.exports=i},u6DZ:function(t,e,n){var r=n("YpBQ"),i=n("eHpp"),a=n("R3TX"),o=n("R5u7"),c=a((function(t,e){if(null==t)return[];var n=e.length;return n>1&&o(t,e[0],e[1])?e=[]:n>2&&o(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=c},uDCT:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D57K"),i=n("4R/U");function a(t){return e=>function(n){return(a,o)=>Object(r.a)(this,void 0,void 0,(function*(){const r=t({getState:o},n);if(!0===r||null===r||void 0===r)return e(n)(a,o);const c=Object(i.a)();return!1===r?e.rejected({name:"ConditionError",message:"Aborted due to condition callback returning false."},c,n):e.fulfilled(r,c,n)}))}}},y4bl:function(t,e,n){var r=n("c72w"),i=n("xoyU"),a=n("pnw1"),o=n("tQYX"),c=n("Ypsa");t.exports=function(t,e,n,u){if(!o(t))return t;for(var d=-1,f=(e=i(e,t)).length,s=f-1,l=t;null!=l&&++d<f;){var b=c(e[d]),p=n;if(d!=s){var v=l[b];void 0===(p=u?u(v,b,l):void 0)&&(p=o(v)?v:a(e[d+1])?[]:{})}r(l,b,p),l=l[b]}return t}},zCVg:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l}));var r=n("M0s1"),i=n("+l7i"),a=n("MKtF"),o=r.a.getSelectors((function(t){return t.collection})),c=o.selectPagination,u=o.selectByPagination;function d(){return a.a}function f(t){return u(t,d())}var s=Object(i.createSelector)((function(t){return c(t,d())}),(function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.index)&&void 0!==e?e:[]})),l=Object(i.createSelector)(s,(function(t){return t[0]}))},zF5n:function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},zaNA:function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}}}]);
