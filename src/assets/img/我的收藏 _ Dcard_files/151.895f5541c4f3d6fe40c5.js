(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[151,230,231],{"466f":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return l}));var r=n("EHGq"),u=n("AfYR"),i=n("GRbO"),a=n("MKtF");function c(t){var e=t.topic,n=t.latest;return{query:e,field:u.a.topics,sort:n?u.b.created:u.b.like}}function o(t){return Object(r.d)({search:c(t)})}function s(t){return{query:t.query,latest:Object(i.a)(t.latest)}}var f=Object(a.g)("topic"),l=Object(a.h)("topic")},"6UbV":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return o}));var r=n("GRbO"),u=n("MKtF");function i(t){return{query:t.query,latest:Object(r.a)(t.latest)}}var a=Object(u.g)("persona"),c=Object(u.h)("persona"),o=function(t,e){return t.persona.data[e]}},AfYR:function(t,e,n){"use strict";var r,u;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return u})),function(t){t.collection="collection",t.created="created",t.like="like",t.relevance="relevance"}(r||(r={})),function(t){t.all="all",t.title="title",t.topics="topics"}(u||(u={}))},Ymfg:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ERkP"),u=n("RNvQ"),i=n.n(u),a=n("ztVx");function c(t,e={}){const[n,u]=Object(r.useState)(e.defaultHeight||0),[c,o]=Object(r.useState)(e.defaultWidth||0),s=Object(r.useMemo)(()=>i()(t=>{u(t.contentRect.width),o(t.contentRect.height)},e.debounceTime||0),[e.debounceTime]),f=Object(a.a)(t=>{const e=t[0];e&&s(e)});return Object(r.useEffect)(()=>{const e=t.current;if(e)return f.observe(e),()=>{f.unobserve(e)}},[t,f]),{width:n,height:c}}},"gj/O":function(t,e,n){"use strict";n.r(e);var r=n("ERkP"),u=n.n(r),i=n("uDfI"),a=n("9e7o"),c=n("lEDV"),o=n("0qS3"),s=n("MKtF"),f=n("aDSF"),l=n("VkfP"),b=u.a.createElement;e.default=function(t){var e=t.cellNo,n=t.forumAlias,u=Object(i.d)(),d=Object(a.a)((function(t){return Object(o.f)(t,n)})),p=null===d||void 0===d?void 0:d.name,O=Object(r.useCallback)((function(t){return t.alias!==n}),[n]),v=Object(o.h)({query:(null===d||void 0===d?void 0:d.name)||""}),j=Object(a.a)((function(t){return Object(s.d)(t,"forum",v).filter((function(t){return O(t)}))}));return Object(r.useEffect)((function(){p&&u(Object(c.a)({query:p}))}),[u,p]),d&&(null===j||void 0===j?void 0:j.length)?b(f.default,{title:"\u76f8\u95dc\u770b\u677f",query:d.name,forumLimit:5,forums:j,cellNo:e,widget:l.b.RelatedForums,source:{sourceKey:d.id,sourceDetail:"related_forums"}}):null}},lEDV:function(t,e,n){"use strict";n.d(e,"d",(function(){return R})),n.d(e,"f",(function(){return q})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return K})),n.d(e,"e",(function(){return F}));var r=n("VtSi"),u=n.n(r),i=n("zjfJ"),a=n("Czhu"),c=n("QsI/"),o=n("zWgn"),s=n.n(o),f=n("uZih"),l=n.n(f),b=n("hcB2"),d=n("EHGq"),p=n("1PvQ"),O=n("MKtF"),v=n("Nf2R"),j=n("466f"),h=n("0qS3"),g=n("6UbV"),y=n("Vqyq"),m=n("cHbO"),k=n("2zbF"),P={limit:30};function S(t){var e=t.types,n=t.key,r=t.url,o=t.getPaginationOptions,f=t.getPayload,d=void 0===f?s.a:f,p=t.statusOptions,j=t.apiOptions;return Object(b.b)(e,function(){var t=Object(c.a)(u.a.mark((function t(e,c){var s,f,b,h,g,y,m,S,R,q,w,E;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b=Object(a.a)(Object(a.a)({},P),c),h=Object(O.j)(e.getState(),n,o(b)),g=Object(k.a)(e.getState()),b.refresh||!(h.error||h.noMore||(null===(s=h.index)||void 0===s?void 0:s.length)>=(null!==(f=b.offset)&&void 0!==f?f:0)+b.limit)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,v.default.get(e,r,d(l()(b,"refresh")),j);case 7:if(y=t.sent,!(g&&p&&y.length>0)){t.next=22;break}return m=p.url,S=p.singularKey,R=p.pluralKey,q=p.modifier,w=y.map((function(t){return t[S]})),t.prev=11,t.next=14,v.default.post(e,m,Object(i.a)({},R,w),j);case 14:return E=t.sent,t.abrupt("return",y.map((function(t){var e=E.find((function(e){return e[S]===t[S]}));return q(t,e)})));case 18:return t.prev=18,t.t0=t.catch(11),console.log("status API error",t.t0),t.abrupt("return",y);case 22:return t.abrupt("return",y);case 23:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e){var n=Object(a.a)(Object(a.a)({},P),e);return{key:Object(O.b)(o(n)),refresh:!!n.refresh}}))}var R=S({types:p.a.LIST_POST,key:"post",url:"/api/v2/search/posts",getPaginationOptions:function(t){return Object(d.d)({search:t})},getPayload:function(t){return Object(a.a)(Object(a.a)({},t),t.since&&{since:Math.floor(t.since.valueOf()/1e3)})},apiOptions:{throughCF:!0}}),q=S({types:p.a.LIST_TOPIC,key:"topic",url:"/api/v2/search/topics",getPaginationOptions:j.c,statusOptions:{url:"/api/v2/me/topics/subscriptions/status",singularKey:"id",pluralKey:"topicIds",modifier:function(t,e){return Object(a.a)(Object(a.a)({},t),{},{subscribed:e.subscribed})}}}),w=S({types:p.a.LIST_FORUM,key:"forum",url:"/api/v2/search/forums",getPaginationOptions:h.h,statusOptions:{url:"/api/v2/me/forumSubscriptions/status",singularKey:"alias",pluralKey:"aliases",modifier:function(t,e){return Object(a.a)(Object(a.a)({},l()(t,["canPost","favorite","read","invisible"])),{},{subscribed:e.subscribed})}},apiOptions:{throughCF:!0}}),E=S({types:p.a.SEARCH_FORUM_FOR_PAGINATION,key:"forum",url:"/api/v2/search/forums",getPaginationOptions:h.h}),K=S({types:p.a.LIST_PERSONA,key:"persona",url:"/api/v2/search/personas",getPaginationOptions:g.a,statusOptions:{url:"/api/v2/me/personaSubscriptions/status",singularKey:"uid",pluralKey:"uids",modifier:function(t,e){return Object(a.a)(Object(a.a)({},t),{},{subscribed:e.subscribed})}}});function F(t){return function(){var e=Object(c.a)(u.a.mark((function e(n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(d.d)({search:t}),i=Object(m.e)(r),e.next=4,Promise.all([n(R(t)),n(Object(y.a)(i))]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}]);
